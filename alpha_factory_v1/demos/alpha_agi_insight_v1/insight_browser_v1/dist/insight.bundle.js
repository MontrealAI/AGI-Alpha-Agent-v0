${o}`,s=r.createShaderModule({code:a,label:e.name});je("verbose",()=>`[WebGPU] ${e.name} shader code: ${a}`);let u=r.createComputePipeline({compute:{module:s,entryPoint:"main"},layout:"auto",label:e.name});return on(e.name),{programInfo:e,computePipeline:u,uniformVariablesInfo:i.variablesInfo}}normalizeDispatchGroupSize(e){let t=typeof e=="number"?e:e.x,r=typeof e=="number"?1:e.y||1,n=typeof e=="number"?1:e.z||1,i=this.backend.device.limits.maxComputeWorkgroupsPerDimension;if(t<=i&&r<=i&&n<=i)return[t,r,n];let o=t*r*n,a=Math.ceil(Math.sqrt(o));if(a>i){if(a=Math.ceil(Math.cbrt(o)),a>i)throw new Error("Total dispatch size exceeds WebGPU maximum.");return[a,a,a]}else return[a,a,1]}}}),NB={};Fu(NB,{WebGpuBackend:()=>RB});BQ=se(()=>{"use strict";Nn(),Ie(),Ji(),GM(),jZ(),MQ(),zQ(),sM=(e,t)=>{if(t.length!==e.length)throw new Error(`inputDependencies length ${t.length} is not equal to inputTensors length ${e.length}.`);let r=[];for(let n=0;n<e.length;++n){let i=e[n].dataType;switch(t[n]){case"none":{r.push("");break}case"type":{r.push(`${i}`);break}case"rank":{let o=e[n].dims.length;r.push(`${i};${o}`);break}case"dims":{let o=e[n].dims.join(",");r.push(`${i};${o}`);break}default:throw new Error(`unsupported input dependency: ${t[n]}`)}}return r.join("|")},uM=(e,t,r)=>{let n=e.name;return e.shaderCache?.hint&&(n+="["+e.shaderCache.hint+"]"),n+=":"+r+`:${sM(t,e.shaderCache?.inputDependencies??new Array(t.length).fill("dims"))}`,n},lM=class{constructor(e){e&&(this.architecture=e.architecture,this.vendor=e.vendor)}isArchitecture(e){return this.architecture===e}isVendor(e){return this.vendor===e}},RB=class{constructor(){this.currentSessionId=null,this.currentKernelId=null,this.commandEncoder=null,this.computePassEncoder=null,this.maxDispatchNumber=16,this.pendingDispatchNumber=0,this.pendingKernels=[],this.pendingQueries=new Map,this.sessionStatus="default",this.capturedCommandList=new Map,this.capturedPendingKernels=new Map,this.sessionExternalDataMapping=new Map}get currentKernelCustomData(){if(this.currentKernelId===null)throw new Error("currentKernelCustomData(): currentKernelId is null. (should not happen)");let e=this.kernelCustomData.get(this.currentKernelId);return e||(e={},this.kernelCustomData.set(this.currentKernelId,e)),e}async initialize(e,t){this.env=e;let r=[],n={requiredLimits:{maxComputeWorkgroupStorageSize:t.limits.maxComputeWorkgroupStorageSize,maxComputeWorkgroupsPerDimension:t.limits.maxComputeWorkgroupsPerDimension,maxStorageBufferBindingSize:t.limits.maxStorageBufferBindingSize,maxBufferSize:t.limits.maxBufferSize,maxComputeInvocationsPerWorkgroup:t.limits.maxComputeInvocationsPerWorkgroup,maxComputeWorkgroupSizeX:t.limits.maxComputeWorkgroupSizeX,maxComputeWorkgroupSizeY:t.limits.maxComputeWorkgroupSizeY,maxComputeWorkgroupSizeZ:t.limits.maxComputeWorkgroupSizeZ},requiredFeatures:r},i=o=>t.features.has(o)&&r.push(o)&&!0;i("chromium-experimental-timestamp-query-inside-passes")||i("timestamp-query"),i("shader-f16"),i("subgroups"),this.device=await t.requestDevice(n),this.adapterInfo=new lM(t.info||await t.requestAdapterInfo()),this.gpuDataManager=XM(this),this.programManager=new OB(this),this.kernels=new Map,this.kernelPersistentData=new Map,this.kernelCustomData=new Map,$_(e.logLevel,!!e.debug),this.device.onuncapturederror=o=>{o.error instanceof GPUValidationError&&console.error(`An uncaught WebGPU validation error was raised: ${o.error.message}`)},Object.defineProperty(this.env.webgpu,"device",{value:this.device,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(this.env.webgpu,"adapter",{value:t,writable:!1,enumerable:!0,configurable:!1}),this.setQueryType()}dispose(){typeof this.querySet<"u"&&this.querySet.destroy(),this.gpuDataManager.dispose()}getCommandEncoder(){return this.commandEncoder||(this.commandEncoder=this.device.createCommandEncoder()),this.commandEncoder}getComputePassEncoder(){if(!this.computePassEncoder){let e=this.getCommandEncoder(),t={};this.queryType==="at-passes"&&(t.timestampWrites={querySet:this.querySet,beginningOfPassWriteIndex:this.pendingDispatchNumber*2,endOfPassWriteIndex:this.pendingDispatchNumber*2+1}),this.computePassEncoder=e.beginComputePass(t)}return this.computePassEncoder}endComputePass(){this.computePassEncoder&&(this.computePassEncoder.end(),this.computePassEncoder=null)}flush(){if(!this.commandEncoder)return;On(),this.endComputePass();let e;this.queryType!=="none"&&(this.commandEncoder.resolveQuerySet(this.querySet,0,this.pendingDispatchNumber*2,this.queryResolveBuffer,0),e=this.device.createBuffer({size:this.pendingDispatchNumber*2*8,usage:GPUBufferUsage.MAP_READ|GPUBufferUsage.COPY_DST}),this.pendingQueries.set(e,this.pendingKernels),this.pendingKernels=[],this.commandEncoder.copyBufferToBuffer(this.queryResolveBuffer,0,e,0,this.pendingDispatchNumber*2*8)),this.device.queue.submit([this.commandEncoder.finish()]),this.gpuDataManager.refreshPendingBuffers(),this.commandEncoder=null,this.pendingDispatchNumber=0,this.queryType!=="none"&&e.mapAsync(GPUMapMode.READ).then(()=>{let t=new BigUint64Array(e.getMappedRange()),r=this.pendingQueries.get(e);for(let n=0;n<t.length/2;n++){let i=r[n],o=i.kernelId,a=this.kernels.get(o),s=a.kernelType,u=a.kernelName,l=i.programName,c=i.inputTensorViews,f=i.outputTensorViews,d=t[n*2],p=t[n*2+1];typeof this.queryTimeBase>"u"&&(this.queryTimeBase=d);let h=Number(d-this.queryTimeBase),g=Number(p-this.queryTimeBase);if(!Number.isSafeInteger(h)||!Number.isSafeInteger(g))throw new RangeError("incorrect timestamp range");if(this.env.webgpu.profiling?.ondata)this.env.webgpu.profiling.ondata({version:1,inputsMetadata:c.map(w=>({dims:w.dims,dataType:Qi(w.dataType)})),outputsMetadata:f.map(w=>({dims:w.dims,dataType:Qi(w.dataType)})),kernelId:o,kernelType:s,kernelName:u,programName:l,startTime:h,endTime:g});else{let w="";c.forEach((y,$)=>{w+=`input[${$}]: [${y.dims}] | ${Qi(y.dataType)}, `});let b="";f.forEach((y,$)=>{b+=`output[${$}]: [${y.dims}] | ${Qi(y.dataType)}, `}),console.log(`[profiling] kernel "${o}|${s}|${u}|${l}" ${w}${b}execution time: ${g-h} ns`)}Tf("GPU",`${l}::${d}::${p}`)}e.unmap(),this.pendingQueries.delete(e)}),on()}run(e,t,r,n,i,o){On(e.name);let a=[];for(let y=0;y<t.length;++y){let $=t[y].data;if($===0)continue;let v=this.gpuDataManager.get($);if(!v)throw new Error(`no GPU data for input: ${$}`);a.push(v)}let{outputs:s,dispatchGroup:u,programUniforms:l}=e.getRunData(t),c=r.length===0?s.map((y,$)=>$):r;if(c.length!==s.length)throw new Error(`Output size ${c.length} must be equal to ${s.length}.`);let f=[],d=[];for(let y=0;y<s.length;++y){if(!Number.isInteger(c[y])||c[y]<-3||c[y]>=o)throw new Error(`Invalid output index: ${c[y]}`);if(c[y]===-3)continue;let $=c[y]===-1,v=c[y]===-2,k=$||v?i(s[y].dataType,s[y].dims):n(c[y],s[y].dataType,s[y].dims);if(f.push(k),k.data===0)continue;let T=this.gpuDataManager.get(k.data);if(!T)throw new Error(`no GPU data for output: ${k.data}`);if($&&this.temporaryData.push(T),v){let I=this.kernelPersistentData.get(this.currentKernelId);I||(I=[],this.kernelPersistentData.set(this.currentKernelId,I)),I.push(T)}d.push(T)}if(a.length!==t.length||d.length!==f.length){if(d.length===0)return on(e.name),f;throw new Error(`Program ${e.name} has zero-sized tensor(s) in inputs or outputs. This is not supported now.`)}let p;if(l){let y=0,$=[];l.forEach(I=>{let M=typeof I.data=="number"?[I.data]:I.data;if(M.length===0)return;let B=I.type===10?2:4,N,O;I.type===10?(O=M.length>4?16:M.length>2?8:M.length*B,N=M.length>4?16:B*M.length):(O=M.length<=2?M.length*B:16,N=16),y=Math.ceil(y/O)*O,$.push(y);let q=I.type===10?8:4;y+=M.length>4?Math.ceil(M.length/q)*N:M.length*B});let v=16;y=Math.ceil(y/v)*v;let k=new ArrayBuffer(y);l.forEach((I,M)=>{let B=$[M],N=typeof I.data=="number"?[I.data]:I.data;if(I.type===6)new Int32Array(k,B,N.length).set(N);else if(I.type===12)new Uint32Array(k,B,N.length).set(N);else if(I.type===10)new Uint16Array(k,B,N.length).set(N);else if(I.type===1)new Float32Array(k,B,N.length).set(N);else throw new Error(`Unsupported uniform type: ${Qi(I.type)}`)});let T=this.gpuDataManager.create(y,GPUBufferUsage.COPY_DST|GPUBufferUsage.UNIFORM);this.device.queue.writeBuffer(T.buffer,0,k,0,y),this.gpuDataManager.release(T.id),p={offset:0,size:y,buffer:T.buffer}}let h=this.programManager.normalizeDispatchGroupSize(u),g=h[1]===1&&h[2]===1,w=uM(e,t,g),b=this.programManager.getArtifact(w);if(b||(b=this.programManager.build(e,h),this.programManager.setArtifact(w,b),je("info",()=>`[artifact] key: ${w}, programName: ${e.name}`)),l&&b.uniformVariablesInfo){if(l.length!==b.uniformVariablesInfo.length)throw new Error(`Uniform variables count mismatch: expect ${b.uniformVariablesInfo.length}, got ${l.length} in program "${b.programInfo.name}".`);for(let y=0;y<l.length;y++){let $=l[y],v=$.type,k=typeof $.data=="number"?1:$.data.length,[T,I]=b.uniformVariablesInfo[y];if(v!==T||k!==I)throw new Error(`Uniform variable ${y} mismatch: expect type ${T} with size ${I}, got type ${v} with size ${k} in program "${b.programInfo.name}".`)}}if(je("info",()=>`[ProgramManager] run "${e.name}" (key=${w}) with ${h[0]}x${h[1]}x${h[2]}`),this.queryType!=="none"||this.sessionStatus==="capturing"){let y={kernelId:this.currentKernelId,programName:b.programInfo.name,inputTensorViews:t,outputTensorViews:f};this.pendingKernels.push(y),this.sessionStatus==="capturing"&&this.capturedPendingKernels.get(this.currentSessionId).push(y)}return this.programManager.run(b,a,d,h,p),on(e.name),f}upload(e,t){this.gpuDataManager.upload(e,t)}memcpy(e,t){this.gpuDataManager.memcpy(e,t)}async download(e,t){await this.gpuDataManager.download(e,t)}alloc(e){return this.gpuDataManager.create(e).id}free(e){return this.gpuDataManager.release(e)}createKernel(e,t,r,n){let i=BB.get(e);if(!i)throw new Error(`kernel not implemented: ${e}`);let o={kernelType:e,kernelName:n,kernelEntry:i[0],attributes:[i[1],r]};this.kernels.set(t,o)}releaseKernel(e){let t=this.kernelPersistentData.get(e);if(t){for(let r of t)this.gpuDataManager.release(r.id);this.kernelPersistentData.delete(e)}this.kernelCustomData.delete(e),this.kernels.delete(e)}computeKernel(e,t,r){let n=this.kernels.get(e);if(!n)throw new Error(`kernel not created: ${e}`);let i=n.kernelType,o=n.kernelName,a=n.kernelEntry,s=n.attributes;if(this.currentKernelId!==null)throw new Error(`kernel "[${i}] ${o}" is not allowed to be called recursively`);this.currentKernelId=e,s[0]&&(s[1]=s[0](s[1]),s[0]=void 0),je("info",()=>`[WebGPU] Start to run kernel "[${i}] ${o}"...`);let u=this.env.debug;this.temporaryData=[];try{return u&&this.device.pushErrorScope("validation"),a(t,s[1]),0}catch(l){return r.push(Promise.resolve(`[WebGPU] Kernel "[${i}] ${o}" failed. ${l}`)),1}finally{u&&r.push(this.device.popErrorScope().then(l=>l?`GPU validation error for kernel "[${i}] ${o}": ${l.message}`:null));for(let l of this.temporaryData)this.gpuDataManager.release(l.id);this.temporaryData=[],this.currentKernelId=null}}registerBuffer(e,t,r,n){let i=this.sessionExternalDataMapping.get(e);i||(i=new Map,this.sessionExternalDataMapping.set(e,i));let o=i.get(t),a=this.gpuDataManager.registerExternalBuffer(r,n,o);return i.set(t,[a,r]),a}unregisterBuffers(e){let t=this.sessionExternalDataMapping.get(e);t&&(t.forEach(r=>this.gpuDataManager.unregisterExternalBuffer(r[0])),this.sessionExternalDataMapping.delete(e))}getBuffer(e){let t=this.gpuDataManager.get(e);if(!t)throw new Error(`no GPU data for buffer: ${e}`);return t.buffer}createDownloader(e,t,r){return async()=>{let n=await e_(this,e,t);return S_(n.buffer,r)}}writeTimestamp(e){this.queryType==="inside-passes"&&this.computePassEncoder.writeTimestamp(this.querySet,e)}setQueryType(){this.queryType="none",(this.env.webgpu.profiling?.mode==="default"||(typeof this.env.trace>"u"?this.env.wasm.trace:this.env.trace))&&(this.device.features.has("chromium-experimental-timestamp-query-inside-passes")?this.queryType="inside-passes":this.device.features.has("timestamp-query")&&(this.queryType="at-passes"),this.queryType!=="none"&&typeof this.querySet>"u"&&(this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxDispatchNumber*2}),this.queryResolveBuffer=this.device.createBuffer({size:this.maxDispatchNumber*2*8,usage:GPUBufferUsage.COPY_SRC|GPUBufferUsage.QUERY_RESOLVE})))}captureBegin(){je("info","captureBegin"),this.capturedCommandList.get(this.currentSessionId)||this.capturedCommandList.set(this.currentSessionId,[]),this.capturedPendingKernels.get(this.currentSessionId)||this.capturedPendingKernels.set(this.currentSessionId,[]),this.flush(),this.sessionStatus="capturing"}captureEnd(){je("info","captureEnd"),this.flush(),this.sessionStatus="default"}replay(){je("info","replay"),this.sessionStatus="replaying";let e=this.capturedCommandList.get(this.currentSessionId),t=this.capturedPendingKernels.get(this.currentSessionId),r=e.length;this.pendingKernels=[];for(let n=0;n<r;n++){let i=this.getComputePassEncoder(),o=e[n];this.writeTimestamp(this.pendingDispatchNumber*2),i.setPipeline(o.computePipeline),i.setBindGroup(0,o.bindGroup),i.dispatchWorkgroups(...o.dispatchGroup),this.writeTimestamp(this.pendingDispatchNumber*2+1),this.pendingDispatchNumber++,this.queryType!=="none"&&this.pendingKernels.push(t[n]),(this.pendingDispatchNumber>=this.maxDispatchNumber||this.queryType==="at-passes")&&this.endComputePass(),this.pendingDispatchNumber>=this.maxDispatchNumber&&this.flush()}this.flush(),this.sessionStatus="default"}onCreateSession(){this.gpuDataManager.onCreateSession()}onReleaseSession(e){this.unregisterBuffers(e),this.capturedCommandList.has(e)&&this.capturedCommandList.delete(e),this.capturedPendingKernels.has(e)&&this.capturedPendingKernels.delete(e),this.gpuDataManager.onReleaseSession(e)}onRunStart(e){this.currentSessionId=e,this.setQueryType()}}}),DB={};Fu(DB,{init:()=>PB});OQ=se(()=>{"use strict";Ie(),Ji(),ze(),qZ(),z0=class LB{constructor(t,r,n,i){this.module=t,this.dataType=r,this.data=n,this.dims=i}getFloat32Array(){if(this.dataType!==1)throw new Error("Invalid data type");let t=G.size(this.dims);return t===0?new Float32Array:new Float32Array(this.module.HEAP8.buffer,this.data,t)}getBigInt64Array(){if(this.dataType!==7)throw new Error("Invalid data type");let t=G.size(this.dims);return t===0?new BigInt64Array:new BigInt64Array(this.module.HEAP8.buffer,this.data,t)}getInt32Array(){if(this.dataType!==6)throw new Error("Invalid data type");let t=G.size(this.dims);return t===0?new Int32Array:new Int32Array(this.module.HEAP8.buffer,this.data,t)}getUint16Array(){if(this.dataType!==10&&this.dataType!==4)throw new Error("Invalid data type");let t=G.size(this.dims);return t===0?new Uint16Array:new Uint16Array(this.module.HEAP8.buffer,this.data,t)}reshape(t){if(G.size(t)!==G.size(this.dims))throw new Error("Invalid new shape");return new LB(this.module,this.dataType,this.data,t)}},cM=class{constructor(e,t,r){this.module=e,this.backend=t,this.customDataOffset=0,this.customDataSize=0,this.adapterInfo=t.adapterInfo;let n=e.PTR_SIZE,i=r/e.PTR_SIZE,o=n===4?"i32":"i64";this.opKernelContext=Number(e.getValue(n*i++,o));let a=Number(e.getValue(n*i++,o));this.outputCount=Number(e.getValue(n*i++,o)),this.customDataOffset=Number(e.getValue(n*i++,"*")),this.customDataSize=Number(e.getValue(n*i++,o));let s=[];for(let u=0;u<a;u++){let l=Number(e.getValue(n*i++,o)),c=Number(e.getValue(n*i++,"*")),f=Number(e.getValue(n*i++,o)),d=[];for(let p=0;p<f;p++)d.push(Number(e.getValue(n*i++,o)));s.push(new z0(e,l,c,d))}this.inputs=s}get kernelCustomData(){return this.backend.currentKernelCustomData}get customDataBuffer(){return this.module.HEAPU8.subarray(this.customDataOffset,this.customDataOffset+this.customDataSize)}compute(e,t){let r=t?.inputs?.map(a=>typeof a=="number"?this.inputs[a]:a)??this.inputs,n=t?.outputs??[],i=(a,s,u)=>new z0(this.module,s,this.output(a,u),u),o=(a,s)=>{let u=Ka(a,s);if(!u)throw new Error(`Unsupported data type: ${a}`);let l=u>0?this.backend.gpuDataManager.create(u).id:0;return new z0(this.module,a,l,s)};return this.backend.run(e,r,n,i,o,this.outputCount)}output(e,t){let r=this.module.stackSave();try{let n=this.module.PTR_SIZE,i=n===4?"i32":"i64",o=this.module.stackAlloc((1+t.length)*n);this.module.setValue(o,t.length,i);for(let a=0;a<t.length;a++)this.module.setValue(o+n*(a+1),t[a],i);return this.module._JsepOutput(this.opKernelContext,e,o)}catch(n){throw new Error(`Failed to generate kernel's output[${e}] with dims [${t}]. If you are running with pre-allocated output, please make sure the output type/dims are correct. Error: ${n}`)}finally{this.module.stackRestore(r)}}},PB=async(e,t,r,n)=>{let i=t.jsepInit;if(!i)throw new Error("Failed to initialize JSEP. The WebAssembly module is not built with JSEP support.");if(e==="webgpu"){let o=(BQ(),Ef(NB)).WebGpuBackend,a=new o;await a.initialize(r,n),i("webgpu",[a,s=>a.alloc(Number(s)),s=>a.free(s),(s,u,l,c=!1)=>{if(c)je("verbose",()=>`[WebGPU] jsepCopyGpuToGpu: src=${Number(s)}, dst=${Number(u)}, size=${Number(l)}`),a.memcpy(Number(s),Number(u));else{je("verbose",()=>`[WebGPU] jsepCopyCpuToGpu: dataOffset=${Number(s)}, gpuDataId=${Number(u)}, size=${Number(l)}`);let f=t.HEAPU8.subarray(Number(s>>>0),Number(s>>>0)+Number(l));a.upload(Number(u),f)}},async(s,u,l)=>{je("verbose",()=>`[WebGPU] jsepCopyGpuToCpu: gpuDataId=${s}, dataOffset=${u}, size=${l}`),await a.download(Number(s),()=>t.HEAPU8.subarray(Number(u)>>>0,Number(u+l)>>>0))},(s,u,l)=>a.createKernel(s,Number(u),l,t.UTF8ToString(t._JsepGetNodeName(Number(u)))),s=>a.releaseKernel(s),(s,u,l,c)=>{je("verbose",()=>`[WebGPU] jsepRun: sessionHandle=${l}, kernel=${s}, contextDataOffset=${u}`);let f=new cM(t,a,Number(u));return a.computeKernel(Number(s),f,c)},()=>a.captureBegin(),()=>a.captureEnd(),()=>a.replay()])}else{let o=new KM(r);i("webnn",[o,()=>o.reserveTensorId(),a=>o.releaseTensorId(a),async(a,s,u,l,c)=>o.ensureTensor(a,s,u,l,c),(a,s)=>{o.uploadTensor(a,s)},async(a,s)=>o.downloadTensor(a,s)])}}}),UB=se(()=>{"use strict";LZ(),UZ(),Ie(),es(),w_(),jM(),fM=(e,t)=>{st()._OrtInit(e,t)!==0&&Je("Can't initialize onnxruntime.")},N_=async e=>{fM(e.wasm.numThreads,P0(e.logLevel))},R_=async(e,t)=>{st().asyncInit?.();{let r=(OQ(),Ef(DB)).init;if(t==="webgpu"){if(typeof navigator>"u"||!navigator.gpu)throw new Error("WebGPU is not supported in current environment");let n=e.webgpu.adapter;if(n){if(typeof n.limits!="object"||typeof n.features!="object"||typeof n.requestDevice!="function")throw new Error("Invalid GPU adapter set in `env.webgpu.adapter`. It must be a GPUAdapter object.")}else{let i=e.webgpu.powerPreference;if(i!==void 0&&i!=="low-power"&&i!=="high-performance")throw new Error(`Invalid powerPreference setting: "${i}"`);let o=e.webgpu.forceFallbackAdapter;if(o!==void 0&&typeof o!="boolean")throw new Error(`Invalid forceFallbackAdapter setting: "${o}"`);if(n=await navigator.gpu.requestAdapter({powerPreference:i,forceFallbackAdapter:o}),!n)throw new Error('Failed to get GPU adapter. You may need to enable flag "--enable-unsafe-webgpu" if you are using Chrome.')}await r("webgpu",st(),e,n)}if(t==="webnn"){if(typeof navigator>"u"||!navigator.ml)throw new Error("WebNN is not supported in current environment");await r("webnn",st(),e)}}},Ro=new Map,dM=e=>{let t=st(),r=t.stackSave();try{let n=t.PTR_SIZE,i=t.stackAlloc(2*n);t._OrtGetInputOutputCount(e,i,i+n)!==0&&Je("Can't get session input/output count.");let o=n===4?"i32":"i64";return[Number(t.getValue(i,o)),Number(t.getValue(i+n,o))]}finally{t.stackRestore(r)}},Gx=(e,t)=>{let r=st(),n=r.stackSave(),i=0;try{let o=r.PTR_SIZE,a=r.stackAlloc(2*o);r._OrtGetInputOutputMetadata(e,t,a,a+o)!==0&&Je("Can't get session input/output metadata.");let s=Number(r.getValue(a,"*"));i=Number(r.getValue(a+o,"*"));let u=r.HEAP32[i/4];if(u===0)return[s,0];let l=r.HEAPU32[i/4+1],c=[];for(let f=0;f<l;f++){let d=Number(r.getValue(i+8+f*o,"*"));c.push(d!==0?r.UTF8ToString(d):Number(r.getValue(i+8+(f+l)*o,"*")))}return[s,u,c]}finally{r.stackRestore(n),i!==0&&r._OrtFree(i)}},j0=e=>{let t=st(),r=t._malloc(e.byteLength);if(r===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},D_=async(e,t)=>{let r,n,i=st();Array.isArray(e)?[r,n]=e:e.buffer===i.HEAPU8.buffer?[r,n]=[e.byteOffset,e.byteLength]:[r,n]=j0(e);let o=0,a=0,s=0,u=[],l=[],c=[];try{if([a,u]=await qM(t),t?.externalData&&i.mountExternalData){let v=[];for(let k of t.externalData){let T=typeof k=="string"?k:k.path;v.push(v_(typeof k=="string"?k:k.data).then(I=>{i.mountExternalData(T,I)}))}await Promise.all(v)}for(let v of t?.executionProviders??[])if((typeof v=="string"?v:v.name)==="webnn"){if(i.shouldTransferToMLTensor=!1,typeof v!="string"){let k=v,T=k?.context,I=k?.gpuDevice,M=k?.deviceType,B=k?.powerPreference;T?i.currentContext=T:I?i.currentContext=await i.webnnCreateMLContext(I):i.currentContext=await i.webnnCreateMLContext({deviceType:M,powerPreference:B})}else i.currentContext=await i.webnnCreateMLContext();break}o=await i._OrtCreateSession(r,n,a),i.webgpuOnCreateSession?.(o),o===0&&Je("Can't create a session."),i.jsepOnCreateSession?.(),i.currentContext&&(i.webnnRegisterMLContext(o,i.currentContext),i.currentContext=void 0,i.shouldTransferToMLTensor=!0);let[f,d]=dM(o),p=!!t?.enableGraphCapture,h=[],g=[],w=[],b=[],y=[];for(let v=0;v<f;v++){let[k,T,I]=Gx(o,v);k===0&&Je("Can't get an input name."),l.push(k);let M=i.UTF8ToString(k);h.push(M),w.push(T===0?{name:M,isTensor:!1}:{name:M,isTensor:!0,type:Qi(T),shape:I})}for(let v=0;v<d;v++){let[k,T,I]=Gx(o,v+f);k===0&&Je("Can't get an output name."),c.push(k);let M=i.UTF8ToString(k);g.push(M),b.push(T===0?{name:M,isTensor:!1}:{name:M,isTensor:!0,type:Qi(T),shape:I});{if(p&&t?.preferredOutputLocation===void 0){y.push("gpu-buffer");continue}let B=typeof t?.preferredOutputLocation=="string"?t.preferredOutputLocation:t?.preferredOutputLocation?.[M]??"cpu",N=i.webnnIsGraphOutput;if(B==="cpu"&&N&&N(o,M)){y.push("ml-tensor-cpu-output");continue}if(B!=="cpu"&&B!=="cpu-pinned"&&B!=="gpu-buffer"&&B!=="ml-tensor")throw new Error(`Not supported preferred output location: ${B}.`);if(p&&B!=="gpu-buffer")throw new Error(`Not supported preferred output location: ${B}. Only 'gpu-buffer' location is supported when enableGraphCapture is true.`);y.push(B)}}let $=null;return y.some(v=>v==="gpu-buffer"||v==="ml-tensor"||v==="ml-tensor-cpu-output")&&(s=i._OrtCreateBinding(o),s===0&&Je("Can't create IO binding."),$={handle:s,outputPreferredLocations:y,outputPreferredLocationsEncoded:y.map(v=>v==="ml-tensor-cpu-output"?"ml-tensor":v).map(v=>Qx(v))}),Ro.set(o,[o,l,c,$,p,!1]),[o,h,g,w,b]}catch(f){throw l.forEach(d=>i._OrtFree(d)),c.forEach(d=>i._OrtFree(d)),s!==0&&i._OrtReleaseBinding(s)!==0&&Je("Can't release IO binding."),o!==0&&i._OrtReleaseSession(o)!==0&&Je("Can't release session."),f}finally{i._free(r),a!==0&&i._OrtReleaseSessionOptions(a)!==0&&Je("Can't release session options."),u.forEach(f=>i._free(f)),i.unmountExternalData?.()}},P_=e=>{let t=st(),r=Ro.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);let[n,i,o,a,s]=r;a&&(s&&t._OrtClearBoundOutputs(a.handle)!==0&&Je("Can't clear bound outputs."),t._OrtReleaseBinding(a.handle)!==0&&Je("Can't release IO binding.")),t.jsepOnReleaseSession?.(e),t.webnnOnReleaseSession?.(e),t.webgpuOnReleaseSession?.(e),i.forEach(u=>t._OrtFree(u)),o.forEach(u=>t._OrtFree(u)),t._OrtReleaseSession(n)!==0&&Je("Can't release session."),Ro.delete(e)},Yx=async(e,t,r,n,i,o,a=!1)=>{if(!e){t.push(0);return}let s=st(),u=s.PTR_SIZE,l=e[0],c=e[1],f=e[3],d=f,p,h;if(l==="string"&&(f==="gpu-buffer"||f==="ml-tensor"))throw new Error("String tensor is not supported on GPU.");if(a&&f!=="gpu-buffer")throw new Error(`External buffer must be provided for input/output index ${o} when enableGraphCapture is true.`);if(f==="gpu-buffer"){let b=e[2].gpuBuffer;h=Ka(Ya(l),c);{let y=s.jsepRegisterBuffer;if(!y)throw new Error('Tensor location "gpu-buffer" is not supported without using WebGPU.');p=y(n,o,b,h)}}else if(f==="ml-tensor"){let b=e[2].mlTensor;h=Ka(Ya(l),c);let y=s.webnnRegisterMLTensor;if(!y)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');p=y(n,b,Ya(l),c)}else{let b=e[2];if(Array.isArray(b)){h=u*b.length,p=s._malloc(h),r.push(p);for(let y=0;y<b.length;y++){if(typeof b[y]!="string")throw new TypeError(`tensor data at index ${y} is not a string`);s.setValue(p+y*u,zn(b[y],r),"*")}}else{let y=s.webnnIsGraphInput,$=s.webnnIsGraphOutput;if(l!=="string"&&y&&$){let v=s.UTF8ToString(i);if(y(n,v)||$(n,v)){let k=Ya(l);h=Ka(k,c),d="ml-tensor";let T=s.webnnCreateTemporaryTensor,I=s.webnnUploadTensor;if(!T||!I)throw new Error('Tensor location "ml-tensor" is not supported without using WebNN.');let M=await T(n,k,c);I(M,new Uint8Array(b.buffer,b.byteOffset,b.byteLength)),p=M}else h=b.byteLength,p=s._malloc(h),r.push(p),s.HEAPU8.set(new Uint8Array(b.buffer,b.byteOffset,h),p)}else h=b.byteLength,p=s._malloc(h),r.push(p),s.HEAPU8.set(new Uint8Array(b.buffer,b.byteOffset,h),p)}}let g=s.stackSave(),w=s.stackAlloc(4*c.length);try{c.forEach((y,$)=>s.setValue(w+$*u,y,u===4?"i32":"i64"));let b=s._OrtCreateTensor(Ya(l),p,h,w,c.length,Qx(d));b===0&&Je(`Can't create tensor for input/output. session=${n}, index=${o}.`),t.push(b)}finally{s.stackRestore(g)}},L_=async(e,t,r,n,i,o)=>{let a=st(),s=a.PTR_SIZE,u=Ro.get(e);if(!u)throw new Error(`cannot run inference. invalid session id: ${e}`);let l=u[0],c=u[1],f=u[2],d=u[3],p=u[4],h=u[5],g=t.length,w=n.length,b=0,y=[],$=[],v=[],k=[],T=a.stackSave(),I=a.stackAlloc(g*s),M=a.stackAlloc(g*s),B=a.stackAlloc(w*s),N=a.stackAlloc(w*s);try{[b,y]=FM(o);for(let L=0;L<g;L++)await Yx(r[L],$,k,e,c[t[L]],t[L],p);for(let L=0;L<w;L++)await Yx(i[L],v,k,e,f[n[L]],g+n[L],p);for(let L=0;L<g;L++)a.setValue(I+L*s,$[L],"*"),a.setValue(M+L*s,c[t[L]],"*");for(let L=0;L<w;L++)a.setValue(B+L*s,v[L],"*"),a.setValue(N+L*s,f[n[L]],"*");if(d&&!h){let{handle:L,outputPreferredLocations:P,outputPreferredLocationsEncoded:X}=d;if(c.length!==g)throw new Error(`input count from feeds (${g}) is expected to be always equal to model's input count (${c.length}).`);for(let K=0;K<g;K++){let ae=t[K];await a._OrtBindInput(L,c[ae],$[K])!==0&&Je(`Can't bind input[${K}] for session=${e}.`)}for(let K=0;K<w;K++){let ae=n[K];i[K]?.[3]?a._OrtBindOutput(L,f[ae],v[K],0)!==0&&Je(`Can't bind pre-allocated output[${K}] for session=${e}.`):a._OrtBindOutput(L,f[ae],0,X[ae])!==0&&Je(`Can't bind output[${K}] to ${P[K]} for session=${e}.`)}Ro.set(e,[l,c,f,d,p,!0])}a.jsepOnRunStart?.(l),a.webnnOnRunStart?.(l);let O;d?O=await a._OrtRunWithBinding(l,d.handle,w,B,b):O=await a._OrtRun(l,M,I,g,N,w,B,b),O!==0&&Je("failed to call OrtRun().");let q=[],W=[];for(let L=0;L<w;L++){let P=Number(a.getValue(B+L*s,"*"));if(P===v[L]){q.push(i[L]);continue}let X=a.stackSave(),K=a.stackAlloc(4*s),ae=!1,V,ie=0;try{a._OrtGetTensorData(P,K,K+s,K+2*s,K+3*s)!==0&&Je(`Can't access output tensor data on index ${L}.`);let U=s===4?"i32":"i64",Y=Number(a.getValue(K,U));ie=a.getValue(K+s,"*");let re=a.getValue(K+s*2,"*"),F=Number(a.getValue(K+s*3,U)),ue=[];for(let me=0;me<F;me++)ue.push(Number(a.getValue(re+me*s,U)));a._OrtFree(re)!==0&&Je("Can't free memory for tensor dims.");let Se=ue.reduce((me,J)=>me*J,1);V=Qi(Y);let pe=d?.outputPreferredLocations[n[L]];if(V==="string"){if(pe==="gpu-buffer"||pe==="ml-tensor")throw new Error("String tensor is not supported on GPU.");let me=[];for(let J=0;J<Se;J++){let le=a.getValue(ie+J*s,"*"),ce=a.getValue(ie+(J+1)*s,"*"),ee=J===Se-1?void 0:ce-le;me.push(a.UTF8ToString(le,ee))}q.push([V,ue,me,"cpu"])}else if(pe==="gpu-buffer"&&Se>0){let me=a.jsepGetBuffer;if(!me)throw new Error('preferredLocation "gpu-buffer" is not supported without using WebGPU.');let J=me(ie),le=Ka(Y,Se);if(le===void 0||!x_(V))throw new Error(`Unsupported data type: ${V}`);ae=!0,q.push([V,ue,{gpuBuffer:J,download:a.jsepCreateDownloader(J,le,V),dispose:()=>{a._OrtReleaseTensor(P)!==0&&Je("Can't release tensor.")}},"gpu-buffer"])}else if(pe==="ml-tensor"&&Se>0){let me=a.webnnEnsureTensor,J=a.webnnIsGraphInputOutputTypeSupported;if(!me||!J)throw new Error('preferredLocation "ml-tensor" is not supported without using WebNN.');if(Ka(Y,Se)===void 0||!__(V))throw new Error(`Unsupported data type: ${V}`);if(!J(e,V,!1))throw new Error(`preferredLocation "ml-tensor" for ${V} output is not supported by current WebNN Context.`);let le=await me(e,ie,Y,ue,!1);ae=!0,q.push([V,ue,{mlTensor:le,download:a.webnnCreateMLTensorDownloader(ie,V),dispose:()=>{a.webnnReleaseTensorId(ie),a._OrtReleaseTensor(P)}},"ml-tensor"])}else if(pe==="ml-tensor-cpu-output"&&Se>0){let me=a.webnnCreateMLTensorDownloader(ie,V)(),J=q.length;ae=!0,W.push((async()=>{let le=[J,await me];return a.webnnReleaseTensorId(ie),a._OrtReleaseTensor(P),le})()),q.push([V,ue,[],"cpu"])}else{let me=W0(V),J=new me(Se);new Uint8Array(J.buffer,J.byteOffset,J.byteLength).set(a.HEAPU8.subarray(ie,ie+J.byteLength)),q.push([V,ue,J,"cpu"])}}finally{a.stackRestore(X),V==="string"&&ie&&a._free(ie),ae||a._OrtReleaseTensor(P)}}d&&!p&&(a._OrtClearBoundOutputs(d.handle)!==0&&Je("Can't clear bound outputs."),Ro.set(e,[l,c,f,d,p,!1]));for(let[L,P]of await Promise.all(W))q[L][2]=P;return q}finally{a.webnnOnRunEnd?.(l),a.stackRestore(T),$.forEach(O=>a._OrtReleaseTensor(O)),v.forEach(O=>a._OrtReleaseTensor(O)),k.forEach(O=>a._free(O)),b!==0&&a._OrtReleaseRunOptions(b),y.forEach(O=>a._free(O))}},U_=e=>{let t=st(),r=Ro.get(e);if(!r)throw new Error("invalid session id");let n=r[0],i=t._OrtEndProfiling(n);i===0&&Je("Can't get an profile file name."),t._OrtFree(i)},F_=e=>{let t=[];for(let r of e){let n=r[2];!Array.isArray(n)&&"buffer"in n&&t.push(n.buffer)}return t}}),YB=se(()=>{"use strict";Nn(),UB(),es(),y_(),Do=()=>!!ct.wasm.proxy&&typeof document<"u",Du=!1,wf=!1,xf=!1,O0=new Map,Va=(e,t)=>{let r=O0.get(e);r?r.push(t):O0.set(e,[t])},Ha=()=>{if(Du||!wf||xf||!rn)throw new Error("worker not ready")},pM=e=>{switch(e.data.type){case"init-wasm":Du=!1,e.data.err?(xf=!0,Kx[1](e.data.err)):(wf=!0,Kx[0]()),B0&&(URL.revokeObjectURL(B0),B0=void 0);break;case"init-ep":case"copy-from":case"create":case"release":case"run":case"end-profiling":{let t=O0.get(e.data.type);e.data.err?t.shift()[1](e.data.err):t.shift()[0](e.data.out);break}default:}},FB=async()=>{if(!wf){if(Du)throw new Error("multiple calls to 'initWasm()' detected.");if(xf)throw new Error("previous call to 'initWasm()' failed.");if(Du=!0,Do())return new Promise((e,t)=>{rn?.terminate(),LM().then(([r,n])=>{try{rn=n,rn.onerror=o=>t(o),rn.onmessage=pM,Kx=[e,t];let i={type:"init-wasm",in:ct};!i.in.wasm.wasmPaths&&(r||Zx)&&(i.in.wasm.wasmPaths={wasm:new URL("ort-wasm-simd-threaded.jsep.wasm",import.meta.url).href}),rn.postMessage(i),B0=r}catch(i){t(i)}},t)});try{await b_(ct.wasm),await N_(ct),wf=!0}catch(e){throw xf=!0,e}finally{Du=!1}}},qB=async e=>{if(Do())return Ha(),new Promise((t,r)=>{Va("init-ep",[t,r]);let n={type:"init-ep",in:{epName:e,env:ct}};rn.postMessage(n)});await R_(ct,e)},jB=async e=>Do()?(Ha(),new Promise((t,r)=>{Va("copy-from",[t,r]);let n={type:"copy-from",in:{buffer:e}};rn.postMessage(n,[e.buffer])})):j0(e),WB=async(e,t)=>{if(Do()){if(t?.preferredOutputLocation)throw new Error('session option "preferredOutputLocation" is not supported for proxy.');return Ha(),new Promise((r,n)=>{Va("create",[r,n]);let i={type:"create",in:{model:e,options:{...t}}},o=[];e instanceof Uint8Array&&o.push(e.buffer),rn.postMessage(i,o)})}else return D_(e,t)},VB=async e=>{if(Do())return Ha(),new Promise((t,r)=>{Va("release",[t,r]);let n={type:"release",in:e};rn.postMessage(n)});P_(e)},HB=async(e,t,r,n,i,o)=>{if(Do()){if(r.some(a=>a[3]!=="cpu"))throw new Error("input tensor on GPU is not supported for proxy.");if(i.some(a=>a))throw new Error("pre-allocated output tensor is not supported for proxy.");return Ha(),new Promise((a,s)=>{Va("run",[a,s]);let u=r,l={type:"run",in:{sessionId:e,inputIndices:t,inputs:u,outputIndices:n,options:o}};rn.postMessage(l,F_(u))})}else return L_(e,t,r,n,i,o)},GB=async e=>{if(Do())return Ha(),new Promise((t,r)=>{Va("end-profiling",[t,r]);let n={type:"end-profiling",in:e};rn.postMessage(n)});U_(e)}}),NQ=se(()=>{"use strict";Nn(),YB(),Ie(),g_(),jM(),Xx=(e,t)=>{switch(e.location){case"cpu":return[e.type,e.dims,e.data,"cpu"];case"gpu-buffer":return[e.type,e.dims,{gpuBuffer:e.gpuBuffer},"gpu-buffer"];case"ml-tensor":return[e.type,e.dims,{mlTensor:e.mlTensor},"ml-tensor"];default:throw new Error(`invalid data location: ${e.location} for ${t()}`)}},hM=e=>{switch(e[3]){case"cpu":return new Bn(e[0],e[2],e[1]);case"gpu-buffer":{let t=e[0];if(!x_(t))throw new Error(`not supported data type: ${t} for deserializing GPU tensor`);let{gpuBuffer:r,download:n,dispose:i}=e[2];return Bn.fromGpuBuffer(r,{dataType:t,dims:e[1],download:n,dispose:i})}case"ml-tensor":{let t=e[0];if(!__(t))throw new Error(`not supported data type: ${t} for deserializing MLTensor tensor`);let{mlTensor:r,download:n,dispose:i}=e[2];return Bn.fromMLTensor(r,{dataType:t,dims:e[1],download:n,dispose:i})}default:throw new Error(`invalid data location: ${e[3]}`)}},KB=class{async fetchModelAndCopyToWasmMemory(e){return jB(await v_(e))}async loadModel(e,t){On();let r;typeof e=="string"?r=await this.fetchModelAndCopyToWasmMemory(e):r=e,[this.sessionId,this.inputNames,this.outputNames,this.inputMetadata,this.outputMetadata]=await WB(r,t),on()}async dispose(){return VB(this.sessionId)}async run(e,t,r){On();let n=[],i=[];Object.entries(e).forEach(f=>{let d=f[0],p=f[1],h=this.inputNames.indexOf(d);if(h===-1)throw new Error(`invalid input '${d}'`);n.push(p),i.push(h)});let o=[],a=[];Object.entries(t).forEach(f=>{let d=f[0],p=f[1],h=this.outputNames.indexOf(d);if(h===-1)throw new Error(`invalid output '${d}'`);o.push(p),a.push(h)});let s=n.map((f,d)=>Xx(f,()=>`input "${this.inputNames[i[d]]}"`)),u=o.map((f,d)=>f?Xx(f,()=>`output "${this.outputNames[a[d]]}"`):null),l=await HB(this.sessionId,i,s,a,u,r),c={};for(let f=0;f<l.length;f++)c[this.outputNames[a[f]]]=o[f]??hM(l[f]);return on(),c}startProfiling(){}endProfiling(){GB(this.sessionId)}}}),XB={};Fu(XB,{OnnxruntimeWebAssemblyBackend:()=>d_,initializeFlags:()=>f_,wasmBackend:()=>ZB});RQ=se(()=>{"use strict";Nn(),YB(),NQ(),f_=()=>{(typeof ct.wasm.initTimeout!="number"||ct.wasm.initTimeout<0)&&(ct.wasm.initTimeout=0);let e=ct.wasm.simd;if(typeof e!="boolean"&&e!==void 0&&e!=="fixed"&&e!=="relaxed"&&(console.warn(`Property "env.wasm.simd" is set to unknown value "${e}". Reset it to \`false\` and ignore SIMD feature checking.`),ct.wasm.simd=!1),typeof ct.wasm.proxy!="boolean"&&(ct.wasm.proxy=!1),typeof ct.wasm.trace!="boolean"&&(ct.wasm.trace=!1),typeof ct.wasm.numThreads!="number"||!Number.isInteger(ct.wasm.numThreads)||ct.wasm.numThreads<=0)if(typeof self<"u"&&!self.crossOriginIsolated)ct.wasm.numThreads=1;else{let t=typeof navigator>"u"?vZ("node:os").cpus().length:navigator.hardwareConcurrency;ct.wasm.numThreads=Math.min(4,Math.ceil((t||1)/2))}},d_=class{async init(e){f_(),await FB(),await qB(e)}async createInferenceSessionHandler(e,t){let r=new KB;return await r.loadModel(e,t),r}},ZB=new d_});Nn();Nn();Nn();DQ="1.22.0",PQ=BM;{let e=(RQ(),Ef(XB)).wasmBackend;Xa("webgpu",e,5),Xa("webnn",e,5),Xa("cpu",e,10),Xa("wasm",e,10)}Object.defineProperty(ct.versions,"web",{value:DQ,enumerable:!0});});var tO={};x1(tO,{chat:()=>q_,gpuBackend:()=>eO,setUseGpu:()=>H0});function H0(e){V0=!!e;try{localStorage.setItem("USE_GPU",V0?"1":"0")}catch{}qu=null}async function LQ(){if(Af!==void 0)return Af;if(typeof window>"u")return!1;if(!window.ort)try{await Promise.resolve().then(()=>(JB(),QB))}catch{return Af=!1,!1}return Af=!!window.ort,Af}async function eO(){return V0&&typeof navigator<"u"&&navigator.gpu&&await LQ()?"webgpu":"wasm-simd"}async function UQ(){if(!qu)try{let{pipeline:e}=await Promise.resolve().then(()=>(Xw(),OI)),t=await eO();if(typeof window<"u"&&(window.LLM_BACKEND=t),window.GPT2_MODEL_BASE64){let r=Uint8Array.from(atob(window.GPT2_MODEL_BASE64),o=>o.charCodeAt(0)),n=new Blob([r]),i=URL.createObjectURL(n);qu=await e("text-generation",i,{backend:t})}else qu=await e("text-generation","./wasm_llm/",{backend:t})}catch{qu=async t=>`[offline] ${t}`}return qu}async function q_(e){let t=localStorage.getItem("OPENAI_API_KEY");if(t)return(await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:e}]})})).json()).choices[0].message.content.trim();let n=await(await UQ())(e);return typeof n=="string"?n:n[0]?.generated_text?.trim()}var qu,V0,Af,G0=w1(()=>{"use strict";V0=!0;try{let e=localStorage.getItem("USE_GPU");e!==null&&(V0=e!=="0")}catch{}});var qn={seed:42,pop:80,gen:60,mutations:["gaussian"],adaptive:!1},Yf=500;function _1(e=window.location.hash){if(!e||e==="#")try{let r=localStorage.getItem("insightParams");if(r){let n=JSON.parse(r);return{seed:n.seed??qn.seed,pop:Math.min(n.pop??qn.pop,Yf),gen:Math.min(n.gen??qn.gen,Yf),mutations:n.mutations??qn.mutations,adaptive:n.adaptive??qn.adaptive}}}catch{}let t=new URLSearchParams(e.replace(/^#\/?/,""));return{seed:+t.get("s")||qn.seed,pop:Math.min(+t.get("p")||qn.pop,Yf),gen:Math.min(+t.get("g")||qn.gen,Yf),mutations:(t.get("m")||qn.mutations.join(",")).split(",").filter(Boolean),adaptive:t.get("a")==="1"||qn.adaptive}}function c3(e){let t=new URLSearchParams;return t.set("s",e.seed),t.set("p",e.pop),t.set("g",e.gen),e.mutations&&t.set("m",e.mutations.join(",")),e.adaptive&&t.set("a","1"),"#/"+t.toString()}var Ho={seed:"Seed",population:"Population",generations:"Generations",gaussian:"gaussian",swap:"swap",jump:"jump",scramble:"scramble",adaptive:"Adaptive",pause:"Pause",resume:"Resume",export:"Export",drop:"Drop JSON here",csv:"CSV",png:"PNG",share:"Share",theme:"Theme",iframe_copied:"iframe snippet copied",link_copied:"permalink copied",state_loaded:"state loaded",invalid_file:"invalid file",simulation_restarted:"simulation restarted",telemetry_consent:"Allow anonymous telemetry?",download_log:"Download log","summary.debateArena":"Debate Arena","summary.debate":"Debate","label.rank":"Rank","label.score":"Score",score:"Score",novelty:"Novelty",time:"Time",respawn:"Re-spawn",pyodide_unavailable:"Pyodide unavailable; using JS only",pyodide_failed:"Pyodide failed to load; using JS only",archive_disabled:"Archive disabled (no storage access)",archive_full:"Archive full; oldest runs pruned",pin_failed:"pin failed",error_unknown:"unknown error",disclaimer:'This repository is a conceptual research prototype. Mentions of describing aspirational goals and does not contain real general intelligence. Use at your own risk.'};var Gu=Ho,Go="en";async function f3(){let e=localStorage.getItem("lang"),t=navigator.languages||[navigator.language||"en"],r=(e||t[0]||"en").slice(0,2);e||(t.some(n=>n.startsWith("zh"))?r="zh":t.some(n=>n.startsWith("fr"))?r="fr":t.some(n=>n.startsWith("es"))&&(r="es")),Go=r.startsWith("fr")?"fr":r.startsWith("es")?"es":r.startsWith("zh")?"zh":"en";try{let n=await fetch(`src/i18n/${Go}.json`);Gu={...Ho,...await n.json()}}catch{Gu=Ho,Go="en"}}async function p3(e){Go=e,localStorage.setItem("lang",e);try{let t=await fetch(`src/i18n/${e}.json`);Gu={...Ho,...await t.json()}}catch{Gu=Ho,Go="en"}}function Oe(e){return Gu[e]||Ho[e]||e}var us=500;function h3(e,t){let r=document.getElementById("controls");if(!r)throw new Error("controls element not found");let n=r;n.replaceChildren();function i(I,M){let B=document.createElement("label");B.appendChild(document.createTextNode(I+" ")),B.appendChild(M),n.appendChild(B)}let o=document.createElement("input");o.id="seed",o.type="number",o.min="0",o.setAttribute("aria-label",Oe("seed")),o.tabIndex=1,i(Oe("seed"),o);let a=document.createElement("input");a.id="pop",a.type="number",a.min="1",a.max=String(us),a.setAttribute("aria-label",Oe("population")),a.tabIndex=2,i(Oe("population"),a);let s=document.createElement("input");s.id="gen",s.type="number",s.min="1",s.max=String(us),s.setAttribute("aria-label",Oe("generations")),s.tabIndex=3,i(Oe("generations"),s);function u(I,M,B){let N=document.createElement("input");return N.id=I,N.type="checkbox",N.setAttribute("aria-label",M),N.tabIndex=B,i(M,N),N}let l=u("gaussian",Oe("gaussian"),4),c=u("swap",Oe("swap"),5),f=u("jump",Oe("jump"),6),d=u("scramble",Oe("scramble"),7),p=u("adaptive",Oe("adaptive"),8),h=document.createElement("button");h.id="pause",h.setAttribute("role","button"),h.setAttribute("aria-label",Oe("pause")),h.tabIndex=9,h.textContent=Oe("pause"),n.appendChild(h);let g=document.createElement("button");g.id="export",g.setAttribute("role","button"),g.setAttribute("aria-label",Oe("export")),g.tabIndex=10,g.textContent=Oe("export"),n.appendChild(g);let w=document.createElement("div");w.id="drop",w.setAttribute("role","button"),w.setAttribute("aria-label",Oe("drop")),w.tabIndex=10,w.textContent=Oe("drop"),n.appendChild(w);let b=document.createElement("select");b.id="lang",b.tabIndex=11;let y=document.createElement("option");y.value="en",y.textContent="English";let $=document.createElement("option");$.value="fr",$.textContent="Fran\xE7ais";let v=document.createElement("option");v.value="es",v.textContent="Espa\xF1ol",b.append(y,$,v),n.appendChild(b);function k(I){o.value=String(I.seed),a.value=String(Math.min(I.pop,us)),s.value=String(Math.min(I.gen,us));let M=new Set(I.mutations||[]);l.checked=M.has("gaussian"),c.checked=M.has("swap"),f.checked=M.has("jump"),d.checked=M.has("scramble"),p.checked=I.adaptive||!1}k(e);function T(){let I=[l,c,f,d].filter(q=>q.checked).map(q=>q.id),M=Math.min(+a.value,us),B=Math.min(+s.value,us),N={popClamped:M!==+a.value,genClamped:B!==+s.value};a.value=String(M),s.value=String(B);let O={seed:+o.value,pop:M,gen:B,mutations:I,adaptive:p.checked};try{localStorage.setItem("insightParams",JSON.stringify(O))}catch{}t(O,N)}return o.addEventListener("change",T),a.addEventListener("change",T),s.addEventListener("change",T),l.addEventListener("change",T),c.addEventListener("change",T),f.addEventListener("change",T),d.addEventListener("change",T),p.addEventListener("change",T),b.value=Go,b.addEventListener("change",async()=>{await p3(b.value),location.reload()}),{setValues:k,pauseBtn:h,exportBtn:g,dropZone:w}}function bt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dr(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _i(e){let t,r,n;e.length!==2?(t=bt,r=(s,u)=>bt(e(s),u),n=(s,u)=>e(s)-u):(t=e===bt||e===Dr?e:JN,r=e,n=e);function i(s,u,l=0,c=s.length){if(l<c){if(t(u,u)!==0)return c;do{let f=l+c>>>1;r(s[f],u)<0?l=f+1:c=f}while(l<c)}return l}function o(s,u,l=0,c=s.length){if(l<c){if(t(u,u)!==0)return c;do{let f=l+c>>>1;r(s[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function a(s,u,l=0,c=s.length){let f=i(s,u,l,c-1);return f>l&&n(s[f-1],u)>-n(s[f],u)?f-1:f}return{left:i,center:a,right:o}}function JN(){return 0}function Yu(e){return e===null?NaN:+e}function*m3(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}var g3=_i(bt),y3=g3.right,eR=g3.left,tR=_i(Yu).center,vi=y3;function Yo(e,t){let r=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&++r}return r}function rR(e){return e.length|0}function nR(e){return!(e>0)}function iR(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function oR(e){return t=>e(...t)}function Kf(...e){let t=typeof e[e.length-1]=="function"&&oR(e.pop());e=e.map(iR);let r=e.map(rR),n=e.length-1,i=new Array(n+1).fill(0),o=[];if(n<0||r.some(nR))return o;for(;;){o.push(i.map((s,u)=>e[u][s]));let a=n;for(;++i[a]===r[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function Xf(e,t){var r=0,n=0;return Float64Array.from(e,t===void 0?i=>r+=+i||0:i=>r+=+t(i,n++,e)||0)}function ls(e,t){let r=0,n,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i))}if(r>1)return o/(r-1)}function cs(e,t){let r=ls(e,t);return r&&Math.sqrt(r)}function Ot(e,t){let r,n;if(t===void 0)for(let i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}var kr=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let r=this._partials,n=0;for(let i=0;i<this._n&&i<32;i++){let o=r[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(r[n++]=s),t=a}return r[n]=t,this._n=n+1,this}valueOf(){let t=this._partials,r=this._n,n,i,o,a=0;if(r>0){for(a=t[--r];r>0&&(n=a,i=t[--r],a=n+i,o=i-(a-n),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(i=o*2,n=a+i,i==n-a&&(a=n))}return a}};var fr=class extends Map{constructor(t,r=x3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(v1(this,t))}has(t){return super.has(v1(this,t))}set(t,r){return super.set(b3(this,t),r)}delete(t){return super.delete(w3(this,t))}},ln=class extends Set{constructor(t,r=x3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let n of t)this.add(n)}has(t){return super.has(v1(this,t))}add(t){return super.add(b3(this,t))}delete(t){return super.delete(w3(this,t))}};function v1({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function b3({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function w3({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function x3(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ku(e){return e}function jn(e,...t){return S1(e,Ku,Ku,t)}function cn(e,t,...r){return S1(e,Ku,t,r)}function $1(e,t,...r){return S1(e,Array.from,t,r)}function S1(e,t,r,n){return function i(o,a){if(a>=n.length)return r(o);let s=new fr,u=n[a++],l=-1;for(let c of o){let f=u(c,++l,o),d=s.get(f);d?d.push(c):s.set(f,[c])}for(let[c,f]of s)s.set(c,i(f,a));return t(s)}(e,0)}function k1(e,t){return Array.from(t,r=>e[r])}function $i(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){let n=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,o)=>{for(let a of t){let s=Xu(a[i],a[o]);if(s)return s}})):(r=e.map(r),n.sort((i,o)=>Xu(r[i],r[o]))),k1(e,n)}return e.sort(E1(r))}function E1(e=bt){if(e===bt)return Xu;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{let n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Xu(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function fs(e,t,r){return(t.length!==2?$i(cn(e,t,r),([n,i],[o,a])=>bt(i,a)||bt(n,o)):$i(jn(e,r),([n,i],[o,a])=>t(i,a)||bt(n,o))).map(([n])=>n)}var aR=Math.sqrt(50),sR=Math.sqrt(10),uR=Math.sqrt(2);function Zf(e,t,r){let n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),a=o>=aR?10:o>=sR?5:o>=uR?2:1,s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=r&&r<2?Zf(e,t,r*2):[s,u,l]}function fn(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[i,o,a]=n?Zf(t,e,r):Zf(e,t,r);if(!(o>=i))return[];let s=o-i+1,u=new Array(s);if(n)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}function Ko(e,t,r){return t=+t,e=+e,r=+r,Zf(e,t,r)[2]}function ds(e,t,r){t=+t,e=+e,r=+r;let n=t<e,i=n?Ko(t,e,r):Ko(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Qf(e){return Math.max(1,Math.ceil(Math.log(Yo(e))/Math.LN2)+1)}function Lt(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function Jf(e,t){let r,n=-1,i=-1;if(t===void 0)for(let o of e)++i,o!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=i);return n}function dr(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function ed(e,t){let r,n=-1,i=-1;if(t===void 0)for(let o of e)++i,o!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);return n}function td(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?Xu:E1(i);n>r;){if(n-r>600){let u=n-r+1,l=t-r+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(r,Math.floor(t-l*f/u+d)),h=Math.min(n,Math.floor(t+(u-l)*f/u+d));td(e,t,p,h,i)}let o=e[t],a=r,s=n;for(Zu(e,r,t),i(e[n],o)>0&&Zu(e,r,n);a<s;){for(Zu(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[r],o)===0?Zu(e,r,s):(++s,Zu(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Zu(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function Qu(e,t=bt){let r,n=!1;if(t.length===1){let i;for(let o of e){let a=t(o);(n?bt(a,i)>0:bt(a,a)===0)&&(r=o,i=a,n=!0)}}else for(let i of e)(n?t(i,r)>0:t(i,i)===0)&&(r=i,n=!0);return r}function Pr(e,t,r){if(e=Float64Array.from(m3(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return dr(e);if(t>=1)return Lt(e);var n,i=(n-1)*t,o=Math.floor(i),a=Lt(td(e,o).subarray(0,o+1)),s=dr(e.subarray(o+1));return a+(s-a)*(i-o)}}function T1(e,t,r=Yu){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),a=+r(e[o],o,e),s=+r(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function rd(e,t,r){let n=Yo(e),i=Pr(e,.75)-Pr(e,.25);return n&&i?Math.ceil((r-t)/(2*i*Math.pow(n,-1/3))):1}function Ju(e,t,r){let n=Yo(e),i=cs(e);return n&&i?Math.ceil((r-t)*Math.cbrt(n)/(3.49*i)):1}function nd(e,t){let r=0,n=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++r,n+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++r,n+=o)}if(r)return n/r}function Xo(e,t){return Pr(e,.5,t)}function*cR(e){for(let t of e)yield*t}function ps(e){return Array.from(cR(e))}function id(e,t){let r=new fr;if(t===void 0)for(let o of e)o!=null&&o>=o&&r.set(o,(r.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&r.set(a,(r.get(a)||0)+1)}let n,i=0;for(let[o,a]of r)a>i&&(i=a,n=o);return n}function od(e,t=fR){let r=[],n,i=!1;for(let o of e)i&&r.push(t(n,o)),n=o,i=!0;return r}function fR(e,t){return[e,t]}function Zo(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function Er(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}function io(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function _3(e){return e}var I1=1,A1=2,C1=3,ad=4,v3=1e-6;function dR(e){return"translate("+e+",0)"}function pR(e){return"translate(0,"+e+")"}function hR(e){return t=>+e(t)}function mR(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function gR(){return!this.__axis}function yR(e,t){var r=[],n=null,i=null,o=6,a=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===I1||e===ad?-1:1,c=e===ad||e===A1?"x":"y",f=e===I1||e===C1?dR:pR;function d(p){var h=n??(t.ticks?t.ticks.apply(t,r):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,r):_3),w=Math.max(o,0)+s,b=t.range(),y=+b[0]+u,$=+b[b.length-1]+u,v=(t.bandwidth?mR:hR)(t.copy(),u),k=p.selection?p.selection():p,T=k.selectAll(".domain").data([null]),I=k.selectAll(".tick").data(h,t).order(),M=I.exit(),B=I.enter().append("g").attr("class","tick"),N=I.select("line"),O=I.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(B),N=N.merge(B.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),O=O.merge(B.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",e===I1?"0em":e===C1?"0.71em":"0.32em")),p!==k&&(T=T.transition(p),I=I.transition(p),N=N.transition(p),O=O.transition(p),M=M.transition(p).attr("opacity",v3).attr("transform",function(q){return isFinite(q=v(q))?f(q+u):this.getAttribute("transform")}),B.attr("opacity",v3).attr("transform",function(q){var W=this.parentNode.__axis;return f((W&&isFinite(W=W(q))?W:v(q))+u)})),M.remove(),T.attr("d",e===ad||e===A1?a?"M"+l*a+","+y+"H"+u+"V"+$+"H"+l*a:"M"+u+","+y+"V"+$:a?"M"+y+","+l*a+"V"+u+"H"+$+"V"+l*a:"M"+y+","+u+"H"+$),I.attr("opacity",1).attr("transform",function(q){return f(v(q)+u)}),N.attr(c+"2",l*o),O.attr(c,l*w).text(g),k.filter(gR).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===A1?"start":e===ad?"end":"middle"),k.each(function(){this.__axis=v})}return d.scale=function(p){return arguments.length?(t=p,d):t},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),d):r.slice()},d.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),d):n&&n.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(o=a=+p,d):o},d.tickSizeInner=function(p){return arguments.length?(o=+p,d):o},d.tickSizeOuter=function(p){return arguments.length?(a=+p,d):a},d.tickPadding=function(p){return arguments.length?(s=+p,d):s},d.offset=function(p){return arguments.length?(u=+p,d):u},d}function M1(e){return yR(C1,e)}var bR={value:()=>{}};function S3(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new sd(r)}function sd(e){this._=e}function wR(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}sd.prototype=S3.prototype={constructor:sd,on:function(e,t){var r=this._,n=wR(e+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(e=n[o]).type)&&(i=xR(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=n[o]).type)r[i]=$3(r[i],e.name,t);else if(t==null)for(i in r)r[i]=$3(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new sd(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function xR(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function $3(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=bR,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var z1=S3;var ud="http://www.w3.org/1999/xhtml",Wn={svg:"http://www.w3.org/2000/svg",xhtml:ud,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Si(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Wn.hasOwnProperty(t)?{space:Wn[t],local:e}:e}function _R(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===ud&&t.documentElement.namespaceURI===ud?t.createElement(e):t.createElementNS(r,e)}}function vR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ki(e){var t=Si(e);return(t.local?vR:_R)(t)}function $R(){}function Qo(e){return e==null?$R:function(){return this.querySelector(e)}}function k3(e){typeof e!="function"&&(e=Qo(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=new Array(a),u,l,c=0;c<a;++c)(u=o[c])&&(l=e.call(u,u.__data__,c,o))&&("__data__"in u&&(l.__data__=u.__data__),s[c]=l);return new _t(n,this._parents)}function B1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function SR(){return[]}function el(e){return e==null?SR:function(){return this.querySelectorAll(e)}}function kR(e){return function(){return B1(e.apply(this,arguments))}}function E3(e){typeof e=="function"?e=kR(e):e=el(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var a=t[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&(n.push(e.call(u,u.__data__,l,a)),i.push(u));return new _t(n,i)}function tl(e){return function(){return this.matches(e)}}function ld(e){return function(t){return t.matches(e)}}var ER=Array.prototype.find;function TR(e){return function(){return ER.call(this.children,e)}}function IR(){return this.firstElementChild}function T3(e){return this.select(e==null?IR:TR(typeof e=="function"?e:ld(e)))}var AR=Array.prototype.filter;function CR(){return Array.from(this.children)}function MR(e){return function(){return AR.call(this.children,e)}}function I3(e){return this.selectAll(e==null?CR:MR(typeof e=="function"?e:ld(e)))}function A3(e){typeof e!="function"&&(e=tl(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new _t(n,this._parents)}function cd(e){return new Array(e.length)}function C3(){return new _t(this._enter||this._groups.map(cd),this._parents)}function rl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}rl.prototype={constructor:rl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function M3(e){return function(){return e}}function zR(e,t,r,n,i,o){for(var a=0,s,u=t.length,l=o.length;a<l;++a)(s=t[a])?(s.__data__=o[a],n[a]=s):r[a]=new rl(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function BR(e,t,r,n,i,o,a){var s,u,l=new Map,c=t.length,f=o.length,d=new Array(c),p;for(s=0;s<c;++s)(u=t[s])&&(d[s]=p=a.call(u,u.__data__,s,t)+"",l.has(p)?i[s]=u:l.set(p,u));for(s=0;s<f;++s)p=a.call(e,o[s],s,o)+"",(u=l.get(p))?(n[s]=u,u.__data__=o[s],l.delete(p)):r[s]=new rl(e,o[s]);for(s=0;s<c;++s)(u=t[s])&&l.get(d[s])===u&&(i[s]=u)}function OR(e){return e.__data__}function z3(e,t){if(!arguments.length)return Array.from(this,OR);var r=t?BR:zR,n=this._parents,i=this._groups;typeof e!="function"&&(e=M3(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=n[l],f=i[l],d=f.length,p=NR(e.call(c,c&&c.__data__,l,n)),h=p.length,g=s[l]=new Array(h),w=a[l]=new Array(h),b=u[l]=new Array(d);r(c,f,g,w,b,p,t);for(var y=0,$=0,v,k;y<h;++y)if(v=g[y]){for(y>=$&&($=y+1);!(k=w[$])&&++$<h;);v._next=k||null}}return a=new _t(a,n),a._enter=s,a._exit=u,a}function NR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B3(){return new _t(this._exit||this._groups.map(cd),this._parents)}function O3(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function N3(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l=r[u],c=n[u],f=l.length,d=s[u]=new Array(f),p,h=0;h<f;++h)(p=l[h]||c[h])&&(d[h]=p);for(;u<i;++u)s[u]=r[u];return new _t(s,this._parents)}function R3(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function D3(e){e||(e=RR);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,u=i[o]=new Array(s),l,c=0;c<s;++c)(l=a[c])&&(u[c]=l);u.sort(t)}return new _t(i,this._parents).order()}function RR(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function P3(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function L3(){return Array.from(this)}function U3(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function F3(){let e=0;for(let t of this)++e;return e}function q3(){return!this.node()}function j3(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function DR(e){return function(){this.removeAttribute(e)}}function PR(e){return function(){this.removeAttributeNS(e.space,e.local)}}function LR(e,t){return function(){this.setAttribute(e,t)}}function UR(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function FR(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function qR(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function W3(e,t){var r=Si(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?PR:DR:typeof t=="function"?r.local?qR:FR:r.local?UR:LR)(r,t))}function fd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jR(e){return function(){this.style.removeProperty(e)}}function WR(e,t,r){return function(){this.style.setProperty(e,t,r)}}function VR(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function V3(e,t,r){return arguments.length>1?this.each((t==null?jR:typeof t=="function"?VR:WR)(e,t,r??"")):oo(this.node(),e)}function oo(e,t){return e.style.getPropertyValue(t)||fd(e).getComputedStyle(e,null).getPropertyValue(t)}function HR(e){return function(){delete this[e]}}function GR(e,t){return function(){this[e]=t}}function YR(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function H3(e,t){return arguments.length>1?this.each((t==null?HR:typeof t=="function"?YR:GR)(e,t)):this.node()[e]}function G3(e){return e.trim().split(/^|\s+/)}function O1(e){return e.classList||new Y3(e)}function Y3(e){this._node=e,this._names=G3(e.getAttribute("class")||"")}Y3.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function K3(e,t){for(var r=O1(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function X3(e,t){for(var r=O1(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function KR(e){return function(){K3(this,e)}}function XR(e){return function(){X3(this,e)}}function ZR(e,t){return function(){(t.apply(this,arguments)?K3:X3)(this,e)}}function Z3(e,t){var r=G3(e+"");if(arguments.length<2){for(var n=O1(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?ZR:t?KR:XR)(r,t))}function QR(){this.textContent=""}function JR(e){return function(){this.textContent=e}}function eD(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Q3(e){return arguments.length?this.each(e==null?QR:(typeof e=="function"?eD:JR)(e)):this.node().textContent}function tD(){this.innerHTML=""}function rD(e){return function(){this.innerHTML=e}}function nD(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function J3(e){return arguments.length?this.each(e==null?tD:(typeof e=="function"?nD:rD)(e)):this.node().innerHTML}function iD(){this.nextSibling&&this.parentNode.appendChild(this)}function e6(){return this.each(iD)}function oD(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function t6(){return this.each(oD)}function r6(e){var t=typeof e=="function"?e:ki(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function aD(){return null}function n6(e,t){var r=typeof e=="function"?e:ki(e),n=t==null?aD:typeof t=="function"?t:Qo(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function sD(){var e=this.parentNode;e&&e.removeChild(this)}function i6(){return this.each(sD)}function uD(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function lD(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function o6(e){return this.select(e?lD:uD)}function a6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cD(e){return function(t){e.call(this,t,this.__data__)}}function fD(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function dD(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function pD(e,t,r){return function(){var n=this.__on,i,o=cD(t);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function s6(e,t,r){var n=fD(e+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,c;u<l;++u)for(i=0,c=s[u];i<o;++i)if((a=n[i]).type===c.type&&a.name===c.name)return c.value}return}for(s=t?pD:dD,i=0;i<o;++i)this.each(s(n[i],t,r));return this}function u6(e,t,r){var n=fd(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function hD(e,t){return function(){return u6(this,e,t)}}function mD(e,t){return function(){return u6(this,e,t.apply(this,arguments))}}function l6(e,t){return this.each((typeof t=="function"?mD:hD)(e,t))}function*c6(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var N1=[null];function _t(e,t){this._groups=e,this._parents=t}function f6(){return new _t([[document.documentElement]],N1)}function gD(){return this}_t.prototype=f6.prototype={constructor:_t,select:k3,selectAll:E3,selectChild:T3,selectChildren:I3,filter:A3,data:z3,enter:C3,exit:B3,join:O3,merge:N3,selection:gD,order:R3,sort:D3,call:P3,nodes:L3,node:U3,size:F3,empty:q3,each:j3,attr:W3,style:V3,property:H3,classed:Z3,text:Q3,html:J3,raise:e6,lower:t6,append:r6,insert:n6,remove:i6,clone:o6,datum:a6,on:s6,dispatch:l6,[Symbol.iterator]:c6};var Ei=f6;function Lr(e){return typeof e=="string"?new _t([[document.querySelector(e)]],[document.documentElement]):new _t([[e]],N1)}function d6(e){let t;for(;t=e.sourceEvent;)e=t;return e}function R1(e,t){if(e=d6(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Ti(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ao(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Hn(){}var so=.7,ta=1/so,hs="\\s*([+-]?\\d+)\\s*",nl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yD=/^#([0-9a-f]{3,8})$/,bD=new RegExp(`^rgb\\(${hs},${hs},${hs}\\)$`),wD=new RegExp(`^rgb\\(${Vn},${Vn},${Vn}\\)$`),xD=new RegExp(`^rgba\\(${hs},${hs},${hs},${nl}\\)$`),_D=new RegExp(`^rgba\\(${Vn},${Vn},${Vn},${nl}\\)$`),vD=new RegExp(`^hsl\\(${nl},${Vn},${Vn}\\)$`),$D=new RegExp(`^hsla\\(${nl},${Vn},${Vn},${nl}\\)$`),p6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ti(Hn,pn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:h6,formatHex:h6,formatHex8:SD,formatHsl:kD,formatRgb:m6,toString:m6});function h6(){return this.rgb().formatHex()}function SD(){return this.rgb().formatHex8()}function kD(){return _6(this).formatHsl()}function m6(){return this.rgb().formatRgb()}function pn(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=yD.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?g6(t):r===3?new Mt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bD.exec(e))?new Mt(t[1],t[2],t[3],1):(t=wD.exec(e))?new Mt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xD.exec(e))?dd(t[1],t[2],t[3],t[4]):(t=_D.exec(e))?dd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vD.exec(e))?w6(t[1],t[2]/100,t[3]/100,1):(t=$D.exec(e))?w6(t[1],t[2]/100,t[3]/100,t[4]):p6.hasOwnProperty(e)?g6(p6[e]):e==="transparent"?new Mt(NaN,NaN,NaN,0):null}function g6(e){return new Mt(e>>16&255,e>>8&255,e&255,1)}function dd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Mt(e,t,r,n)}function il(e){return e instanceof Hn||(e=pn(e)),e?(e=e.rgb(),new Mt(e.r,e.g,e.b,e.opacity)):new Mt}function Ur(e,t,r,n){return arguments.length===1?il(e):new Mt(e,t,r,n??1)}function Mt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ti(Mt,Ur,ao(Hn,{brighter(e){return e=e==null?ta:Math.pow(ta,e),new Mt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?so:Math.pow(so,e),new Mt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mt(ea(this.r),ea(this.g),ea(this.b),hd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y6,formatHex:y6,formatHex8:ED,formatRgb:b6,toString:b6}));function y6(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}`}function ED(){return`#${Jo(this.r)}${Jo(this.g)}${Jo(this.b)}${Jo((isNaN(this.opacity)?1:this.opacity)*255)}`}function b6(){let e=hd(this.opacity);return`${e===1?"rgb(":"rgba("}${ea(this.r)}, ${ea(this.g)}, ${ea(this.b)}${e===1?")":`, ${e})`}`}function hd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ea(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jo(e){return e=ea(e),(e<16?"0":"")+e.toString(16)}function w6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new dn(e,t,r,n)}function _6(e){if(e instanceof dn)return new dn(e.h,e.s,e.l,e.opacity);if(e instanceof Hn||(e=pn(e)),!e)return new dn;if(e instanceof dn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-t)/s+2:a=(t-r)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new dn(a,s,u,e.opacity)}function ol(e,t,r,n){return arguments.length===1?_6(e):new dn(e,t,r,n??1)}function dn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ti(dn,ol,ao(Hn,{brighter(e){return e=e==null?ta:Math.pow(ta,e),new dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?so:Math.pow(so,e),new dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Mt(D1(e>=240?e-240:e+120,i,n),D1(e,i,n),D1(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new dn(x6(this.h),pd(this.s),pd(this.l),hd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=hd(this.opacity);return`${e===1?"hsl(":"hsla("}${x6(this.h)}, ${pd(this.s)*100}%, ${pd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function x6(e){return e=(e||0)%360,e<0?e+360:e}function pd(e){return Math.max(0,Math.min(1,e||0))}function D1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var md=Math.PI/180,gd=180/Math.PI;var yd=18,v6=.96422,$6=1,S6=.82521,k6=4/29,ms=6/29,E6=3*ms*ms,TD=ms*ms*ms;function T6(e){if(e instanceof Gn)return new Gn(e.l,e.a,e.b,e.opacity);if(e instanceof Ii)return I6(e);e instanceof Mt||(e=il(e));var t=F1(e.r),r=F1(e.g),n=F1(e.b),i=P1((.2225045*t+.7168786*r+.0606169*n)/$6),o,a;return t===r&&r===n?o=a=i:(o=P1((.4360747*t+.3850649*r+.1430804*n)/v6),a=P1((.0139322*t+.0971045*r+.7141733*n)/S6)),new Gn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function gs(e,t,r,n){return arguments.length===1?T6(e):new Gn(e,t,r,n??1)}function Gn(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}Ti(Gn,gs,ao(Hn,{brighter(e){return new Gn(this.l+yd*(e??1),this.a,this.b,this.opacity)},darker(e){return new Gn(this.l-yd*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=v6*L1(t),e=$6*L1(e),r=S6*L1(r),new Mt(U1(3.1338561*t-1.6168667*e-.4906146*r),U1(-.9787684*t+1.9161415*e+.033454*r),U1(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function P1(e){return e>TD?Math.pow(e,1/3):e/E6+k6}function L1(e){return e>ms?e*e*e:E6*(e-k6)}function U1(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function F1(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ID(e){if(e instanceof Ii)return new Ii(e.h,e.c,e.l,e.opacity);if(e instanceof Gn||(e=T6(e)),e.a===0&&e.b===0)return new Ii(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*gd;return new Ii(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function al(e,t,r,n){return arguments.length===1?ID(e):new Ii(e,t,r,n??1)}function Ii(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function I6(e){if(isNaN(e.h))return new Gn(e.l,0,0,e.opacity);var t=e.h*md;return new Gn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Ti(Ii,al,ao(Hn,{brighter(e){return new Ii(this.h,this.c,this.l+yd*(e??1),this.opacity)},darker(e){return new Ii(this.h,this.c,this.l-yd*(e??1),this.opacity)},rgb(){return I6(this).rgb()}}));var z6=-.14861,q1=1.78277,j1=-.29227,bd=-.90649,sl=1.97294,A6=sl*bd,C6=sl*q1,M6=q1*j1-bd*z6;function AD(e){if(e instanceof ra)return new ra(e.h,e.s,e.l,e.opacity);e instanceof Mt||(e=il(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(M6*n+A6*t-C6*r)/(M6+A6-C6),o=n-i,a=(sl*(r-i)-j1*o)/bd,s=Math.sqrt(a*a+o*o)/(sl*i*(1-i)),u=s?Math.atan2(a,o)*gd-120:NaN;return new ra(u<0?u+360:u,s,i,e.opacity)}function pr(e,t,r,n){return arguments.length===1?AD(e):new ra(e,t,r,n??1)}function ra(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ti(ra,pr,ao(Hn,{brighter(e){return e=e==null?ta:Math.pow(ta,e),new ra(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?so:Math.pow(so,e),new ra(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*md,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new Mt(255*(t+r*(z6*n+q1*i)),255*(t+r*(j1*n+bd*i)),255*(t+r*(sl*n)),this.opacity)}}));function W1(e,t,r,n,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*r+(1+3*e+3*o-3*a)*n+a*i)/6}function B6(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],a=n>0?e[n-1]:2*i-o,s=n<t-1?e[n+2]:2*o-i;return W1((r-n/t)*t,a,i,o,s)}}function O6(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],o=e[n%t],a=e[(n+1)%t],s=e[(n+2)%t];return W1((r-n/t)*t,i,o,a,s)}}var ys=e=>()=>e;function N6(e,t){return function(r){return e+r*t}}function CD(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bs(e,t){var r=t-e;return r?N6(e,r>180||r<-180?r-360*Math.round(r/360):r):ys(isNaN(e)?t:e)}function R6(e){return(e=+e)==1?gt:function(t,r){return r-t?CD(t,r,e):ys(isNaN(t)?r:t)}}function gt(e,t){var r=t-e;return r?N6(e,r):ys(isNaN(e)?t:e)}var Fr=function e(t){var r=R6(t);function n(i,o){var a=r((i=Ur(i)).r,(o=Ur(o)).r),s=r(i.g,o.g),u=r(i.b,o.b),l=gt(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return n.gamma=e,n}(1);function D6(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),a,s;for(a=0;a<r;++a)s=Ur(t[a]),n[a]=s.r||0,i[a]=s.g||0,o[a]=s.b||0;return n=e(n),i=e(i),o=e(o),s.opacity=1,function(u){return s.r=n(u),s.g=i(u),s.b=o(u),s+""}}}var V1=D6(B6),MD=D6(O6);function P6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function L6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function U6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),a;for(a=0;a<n;++a)i[a]=hn(e[a],t[a]);for(;a<r;++a)o[a]=t[a];return function(s){for(a=0;a<n;++a)o[a]=i[a](s);return o}}function F6(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function pt(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function q6(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=hn(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var G1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H1=new RegExp(G1.source,"g");function zD(e){return function(){return e}}function BD(e){return function(t){return e(t)+""}}function ul(e,t){var r=G1.lastIndex=H1.lastIndex=0,n,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(n=G1.exec(e))&&(i=H1.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:pt(n,i)})),r=H1.lastIndex;return r<t.length&&(o=t.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?BD(u[0].x):zD(t):(t=u.length,function(l){for(var c=0,f;c<t;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function hn(e,t){var r=typeof t,n;return t==null||r==="boolean"?ys(t):(r==="number"?pt:r==="string"?(n=pn(t))?(t=n,Fr):ul:t instanceof pn?Fr:t instanceof Date?F6:L6(t)?P6:Array.isArray(t)?U6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?q6:pt)(e,t)}function na(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var j6=180/Math.PI,wd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Y1(e,t,r,n,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),e*n<t*r&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*j6,skewX:Math.atan(u)*j6,scaleX:a,scaleY:s}}var xd;function W6(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?wd:Y1(t.a,t.b,t.c,t.d,t.e,t.f)}function V6(e){return e==null?wd:(xd||(xd=document.createElementNS("http://www.w3.org/2000/svg","g")),xd.setAttribute("transform",e),(e=xd.transform.baseVal.consolidate())?(e=e.matrix,Y1(e.a,e.b,e.c,e.d,e.e,e.f)):wd)}function H6(e,t,r,n){function i(l){return l.length?l.pop()+" ":""}function o(l,c,f,d,p,h){if(l!==f||c!==d){var g=p.push("translate(",null,t,null,r);h.push({i:g-4,x:pt(l,f)},{i:g-2,x:pt(c,d)})}else(f||d)&&p.push("translate("+f+t+d+r)}function a(l,c,f,d){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),d.push({i:f.push(i(f)+"rotate(",null,n)-2,x:pt(l,c)})):c&&f.push(i(f)+"rotate("+c+n)}function s(l,c,f,d){l!==c?d.push({i:f.push(i(f)+"skewX(",null,n)-2,x:pt(l,c)}):c&&f.push(i(f)+"skewX("+c+n)}function u(l,c,f,d,p,h){if(l!==f||c!==d){var g=p.push(i(p)+"scale(",null,",",null,")");h.push({i:g-4,x:pt(l,f)},{i:g-2,x:pt(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(l,c){var f=[],d=[];return l=e(l),c=e(c),o(l.translateX,l.translateY,c.translateX,c.translateY,f,d),a(l.rotate,c.rotate,f,d),s(l.skewX,c.skewX,f,d),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,d),l=c=null,function(p){for(var h=-1,g=d.length,w;++h<g;)f[(w=d[h]).i]=w.x(p);return f.join("")}}}var K1=H6(W6,"px, ","px)","deg)"),X1=H6(V6,", ",")",")");function G6(e){return function(t,r){var n=e((t=ol(t)).h,(r=ol(r)).h),i=gt(t.s,r.s),o=gt(t.l,r.l),a=gt(t.opacity,r.opacity);return function(s){return t.h=n(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}var Z1=G6(bs),OD=G6(gt);function _d(e,t){var r=gt((e=gs(e)).l,(t=gs(t)).l),n=gt(e.a,t.a),i=gt(e.b,t.b),o=gt(e.opacity,t.opacity);return function(a){return e.l=r(a),e.a=n(a),e.b=i(a),e.opacity=o(a),e+""}}function Y6(e){return function(t,r){var n=e((t=al(t)).h,(r=al(r)).h),i=gt(t.c,r.c),o=gt(t.l,r.l),a=gt(t.opacity,r.opacity);return function(s){return t.h=n(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}var Q1=Y6(bs),ND=Y6(gt);function K6(e){return function t(r){r=+r;function n(i,o){var a=e((i=pr(i)).h,(o=pr(o)).h),s=gt(i.s,o.s),u=gt(i.l,o.l),l=gt(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=u(Math.pow(c,r)),i.opacity=l(c),i+""}}return n.gamma=t,n}(1)}var RD=K6(bs),ws=K6(gt);function Yn(e,t){t===void 0&&(t=e,e=hn);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(a){var s=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return o[s](a-s)}}function rr(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var xs=0,cl=0,ll=0,Z6=1e3,vd,fl,$d=0,ia=0,Sd=0,dl=typeof performance=="object"&&performance.now?performance:Date,Q6=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hl(){return ia||(Q6(DD),ia=dl.now()+Sd)}function DD(){ia=0}function pl(){this._call=this._time=this._next=null}pl.prototype=kd.prototype={constructor:pl,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?hl():+r)+(t==null?0:+t),!this._next&&fl!==this&&(fl?fl._next=this:vd=this,fl=this),this._call=e,this._time=r,J1()},stop:function(){this._call&&(this._call=null,this._time=1/0,J1())}};function kd(e,t,r){var n=new pl;return n.restart(e,t,r),n}function J6(){hl(),++xs;for(var e=vd,t;e;)(t=ia-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xs}function X6(){ia=($d=dl.now())+Sd,xs=cl=0;try{J6()}finally{xs=0,LD(),ia=0}}function PD(){var e=dl.now(),t=e-$d;t>Z6&&(Sd-=t,$d=e)}function LD(){for(var e,t=vd,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:vd=r);fl=e,J1(n)}function J1(e){if(!xs){cl&&(cl=clearTimeout(cl));var t=e-ia;t>24?(e<1/0&&(cl=setTimeout(X6,e-dl.now()-Sd)),ll&&(ll=clearInterval(ll))):(ll||($d=dl.now(),ll=setInterval(PD,Z6)),xs=1,Q6(X6))}}function Ed(e,t,r){var n=new pl;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var UD=z1("start","end","cancel","interrupt"),FD=[],r$=0,e$=1,Id=2,Td=3,t$=4,Ad=5,ml=6;function uo(e,t,r,n,i,o){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;qD(e,r,{name:t,index:n,group:i,on:UD,tween:FD,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:r$})}function gl(e,t){var r=Nt(e,t);if(r.state>r$)throw new Error("too late; already scheduled");return r}function Kt(e,t){var r=Nt(e,t);if(r.state>Td)throw new Error("too late; already running");return r}function Nt(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function qD(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=kd(o,0,r.time);function o(l){r.state=e$,r.timer.restart(a,r.delay,r.time),r.delay<=l&&a(l-r.delay)}function a(l){var c,f,d,p;if(r.state!==e$)return u();for(c in n)if(p=n[c],p.name===r.name){if(p.state===Td)return Ed(a);p.state===t$?(p.state=ml,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[c]):+c<t&&(p.state=ml,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[c])}if(Ed(function(){r.state===Td&&(r.state=t$,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=Id,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Id){for(r.state=Td,i=new Array(d=r.tween.length),c=0,f=-1;c<d;++c)(p=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++f]=p);i.length=f+1}}function s(l){for(var c=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=Ad,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);r.state===Ad&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=ml,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function Cd(e,t){var r=e.__transition,n,i,o=!0,a;if(r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){o=!1;continue}i=n.state>Id&&n.state<Ad,n.state=ml,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}o&&delete e.__transition}}function n$(e){return this.each(function(){Cd(this,e)})}function jD(e,t){var r,n;return function(){var i=Kt(this,e),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function WD(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Kt(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function i$(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Nt(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?jD:WD)(r,e,t))}function _s(e,t,r){var n=e._id;return e.each(function(){var i=Kt(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Nt(i,n).value[t]}}function Md(e,t){var r;return(typeof t=="number"?pt:t instanceof pn?Fr:(r=pn(t))?(t=r,Fr):ul)(e,t)}function VD(e){return function(){this.removeAttribute(e)}}function HD(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GD(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===n?o:o=t(n=a,r)}}function YD(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?o:o=t(n=a,r)}}function KD(e,t,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s)))}}function XD(e,t,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s)))}}function o$(e,t){var r=Si(e),n=r==="transform"?X1:Md;return this.attrTween(e,typeof t=="function"?(r.local?XD:KD)(r,n,_s(this,"attr."+e,t)):t==null?(r.local?HD:VD)(r):(r.local?YD:GD)(r,n,t))}function ZD(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function QD(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function JD(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&QD(e,o)),r}return i._value=t,i}function eP(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&ZD(e,o)),r}return i._value=t,i}function a$(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Si(e);return this.tween(r,(n.local?JD:eP)(n,t))}function tP(e,t){return function(){gl(this,e).delay=+t.apply(this,arguments)}}function rP(e,t){return t=+t,function(){gl(this,e).delay=t}}function s$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tP:rP)(t,e)):Nt(this.node(),t).delay}function nP(e,t){return function(){Kt(this,e).duration=+t.apply(this,arguments)}}function iP(e,t){return t=+t,function(){Kt(this,e).duration=t}}function u$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nP:iP)(t,e)):Nt(this.node(),t).duration}function oP(e,t){if(typeof t!="function")throw new Error;return function(){Kt(this,e).ease=t}}function l$(e){var t=this._id;return arguments.length?this.each(oP(t,e)):Nt(this.node(),t).ease}function aP(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Kt(this,e).ease=r}}function c$(e){if(typeof e!="function")throw new Error;return this.each(aP(this._id,e))}function f$(e){typeof e!="function"&&(e=tl(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],u,l=0;l<a;++l)(u=o[l])&&e.call(u,u.__data__,l,o)&&s.push(u);return new hr(n,this._parents,this._name,this._id)}function d$(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var u=t[s],l=r[s],c=u.length,f=a[s]=new Array(c),d,p=0;p<c;++p)(d=u[p]||l[p])&&(f[p]=d);for(;s<n;++s)a[s]=t[s];return new hr(a,this._parents,this._name,this._id)}function sP(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function uP(e,t,r){var n,i,o=sP(t)?gl:Kt;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}function p$(e,t){var r=this._id;return arguments.length<2?Nt(this.node(),r).on.on(e):this.each(uP(r,e,t))}function lP(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function h$(){return this.on("end.remove",lP(this._id))}function m$(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Qo(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],u=s.length,l=o[a]=new Array(u),c,f,d=0;d<u;++d)(c=s[d])&&(f=e.call(c,c.__data__,d,s))&&("__data__"in c&&(f.__data__=c.__data__),l[d]=f,uo(l[d],t,r,d,l,Nt(c,r)));return new hr(o,this._parents,t,r)}function g$(e){var t=this._name,r=this._id;typeof e!="function"&&(e=el(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var u=n[s],l=u.length,c,f=0;f<l;++f)if(c=u[f]){for(var d=e.call(c,c.__data__,f,u),p,h=Nt(c,r),g=0,w=d.length;g<w;++g)(p=d[g])&&uo(p,t,r,g,d,h);o.push(d),a.push(c)}return new hr(o,a,t,r)}var cP=Ei.prototype.constructor;function y$(){return new cP(this._groups,this._parents)}function fP(e,t){var r,n,i;return function(){var o=oo(this,e),a=(this.style.removeProperty(e),oo(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}function b$(e){return function(){this.style.removeProperty(e)}}function dP(e,t,r){var n,i=r+"",o;return function(){var a=oo(this,e);return a===i?null:a===n?o:o=t(n=a,r)}}function pP(e,t,r){var n,i,o;return function(){var a=oo(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),oo(this,e))),a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s))}}function hP(e,t){var r,n,i,o="style."+t,a="end."+o,s;return function(){var u=Kt(this,e),l=u.on,c=u.value[o]==null?s||(s=b$(t)):void 0;(l!==r||i!==c)&&(n=(r=l).copy()).on(a,i=c),u.on=n}}function w$(e,t,r){var n=(e+="")=="transform"?K1:Md;return t==null?this.styleTween(e,fP(e,n)).on("end.style."+e,b$(e)):typeof t=="function"?this.styleTween(e,pP(e,n,_s(this,"style."+e,t))).each(hP(this._id,e)):this.styleTween(e,dP(e,n,t),r).on("end.style."+e,null)}function mP(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function gP(e,t,r){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&mP(e,a,r)),n}return o._value=t,o}function x$(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,gP(e,t,r??""))}function yP(e){return function(){this.textContent=e}}function bP(e){return function(){var t=e(this);this.textContent=t??""}}function _$(e){return this.tween("text",typeof e=="function"?bP(_s(this,"text",e)):yP(e==null?"":e+""))}function wP(e){return function(t){this.textContent=e.call(this,t)}}function xP(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&wP(i)),t}return n._value=e,n}function v$(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,xP(e))}function $$(){for(var e=this._name,t=this._id,r=zd(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)if(u=a[l]){var c=Nt(u,t);uo(u,e,r,l,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new hr(n,this._parents,e,r)}function S$(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};r.each(function(){var l=Kt(this,n),c=l.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),i===0&&o()})}var _P=0;function hr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function k$(e){return Ei().transition(e)}function zd(){return++_P}var Ai=Ei.prototype;hr.prototype=k$.prototype={constructor:hr,select:m$,selectAll:g$,selectChild:Ai.selectChild,selectChildren:Ai.selectChildren,filter:f$,merge:d$,selection:y$,transition:$$,call:Ai.call,nodes:Ai.nodes,node:Ai.node,size:Ai.size,empty:Ai.empty,each:Ai.each,on:p$,attr:o$,attrTween:a$,style:w$,styleTween:x$,text:_$,textTween:v$,remove:h$,tween:i$,delay:s$,duration:u$,ease:l$,easeVarying:c$,end:S$,[Symbol.iterator]:Ai[Symbol.iterator]};function Bd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var vP={time:null,delay:0,duration:250,ease:Bd};function $P(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function E$(e){var t,r;e instanceof hr?(t=e._id,e=e._name):(t=zd(),(r=vP).time=hl(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,l=0;l<s;++l)(u=a[l])&&uo(u,e,t,l,a,r||$P(u,t));return new hr(n,this._parents,e,t)}Ei.prototype.interrupt=n$;Ei.prototype.transition=E$;var{abs:yse,max:bse,min:wse}=Math;function T$(e){return[+e[0],+e[1]]}function SP(e){return[T$(e[0]),T$(e[1])]}var xse={name:"x",handles:["w","e"].map(eg),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},_se={name:"y",handles:["n","s"].map(eg),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},vse={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(eg),input:function(e){return e==null?null:SP(e)},output:function(e){return e}};function eg(e){return{type:e}}var tg=Math.PI,rg=2*tg,oa=1e-6,kP=rg-oa;function I$(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function EP(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return I$;let r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}var lo=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?I$:EP(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,u=n-t,l=i-r,c=a-t,f=s-r,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>oa)if(!(Math.abs(f*u-l*c)>oa)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-a,h=i-s,g=u*u+l*l,w=p*p+h*h,b=Math.sqrt(g),y=Math.sqrt(d),$=o*Math.tan((tg-Math.acos((g+d-w)/(2*b*y)))/2),v=$/y,k=$/b;Math.abs(v-1)>oa&&this._append`L${t+v*c},${r+v*f}`,this._append`A${o},${o},0,0,${+(f*p>c*h)},${this._x1=t+k*u},${this._y1=r+k*l}`}}arc(t,r,n,i,o,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),u=n*Math.sin(i),l=t+s,c=r+u,f=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>oa||Math.abs(this._y1-c)>oa)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%rg+rg),d>kP?this._append`A${n},${n},0,1,${f},${t-s},${r-u}A${n},${n},0,1,${f},${this._x1=l},${this._y1=c}`:d>oa&&this._append`A${n},${n},0,${+(d>=tg)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function A$(){return new lo}A$.prototype=lo.prototype;function mn(e=3){return new lo(+e)}function C$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function aa(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kn(e){return e=aa(Math.abs(e)),e?e[1]:NaN}function M$(e,t){return function(r,n){for(var i=r.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),o.push(r.substring(i-=s,i+s)),!((u+=s+1)>n));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function z$(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TP=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xn(e){if(!(t=TP.exec(e)))throw new Error("invalid format: "+e);var t;return new Od({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xn.prototype=Od.prototype;function Od(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Od.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function B$(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var ng;function O$(e,t){var r=aa(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(ng=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return o===a?n:o>a?n+new Array(o-a+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+aa(e,Math.max(0,t+o-1))[0]}function ig(e,t){var r=aa(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var og={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:C$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ig(e*100,t),r:ig,s:O$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ag(e){return e}var N$=Array.prototype.map,R$=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function D$(e){var t=e.grouping===void 0||e.thousands===void 0?ag:M$(N$.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ag:z$(N$.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Xn(f);var d=f.fill,p=f.align,h=f.sign,g=f.symbol,w=f.zero,b=f.width,y=f.comma,$=f.precision,v=f.trim,k=f.type;k==="n"?(y=!0,k="g"):og[k]||($===void 0&&($=12),v=!0,k="g"),(w||d==="0"&&p==="=")&&(w=!0,d="0",p="=");var T=g==="$"?r:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",I=g==="$"?n:/[%p]/.test(k)?a:"",M=og[k],B=/[defgprs%]/.test(k);$=$===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function N(O){var q=T,W=I,L,P,X;if(k==="c")W=M(O)+W,O="";else{O=+O;var K=O<0||1/O<0;if(O=isNaN(O)?u:M(Math.abs(O),$),v&&(O=B$(O)),K&&+O==0&&h!=="+"&&(K=!1),q=(K?h==="("?h:s:h==="-"||h==="("?"":h)+q,W=(k==="s"?R$[8+ng/3]:"")+W+(K&&h==="("?")":""),B){for(L=-1,P=O.length;++L<P;)if(X=O.charCodeAt(L),48>X||X>57){W=(X===46?i+O.slice(L+1):O.slice(L))+W,O=O.slice(0,L);break}}}y&&!w&&(O=t(O,1/0));var ae=q.length+O.length+W.length,V=ae<b?new Array(b-ae+1).join(d):"";switch(y&&w&&(O=t(V+O,V.length?b-W.length:1/0),V=""),p){case"<":O=q+O+W+V;break;case"=":O=q+V+O+W;break;case"^":O=V.slice(0,ae=V.length>>1)+q+O+W+V.slice(ae);break;default:O=V+q+O+W;break}return o(O)}return N.toString=function(){return f+""},N}function c(f,d){var p=l((f=Xn(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(Kn(d)/3)))*3,g=Math.pow(10,-h),w=R$[8+h/3];return function(b){return p(g*b)+w}}return{format:l,formatPrefix:c}}var Nd,qr,Rd;sg({thousands:",",grouping:[3],currency:["$",""]});function sg(e){return Nd=D$(e),qr=Nd.format,Rd=Nd.formatPrefix,Nd}function ug(e){return Math.max(0,-Kn(Math.abs(e)))}function lg(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kn(t)/3)))*3-Kn(Math.abs(e)))}function cg(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kn(t)-Kn(e))+1}var Ee=1e-6,Dd=1e-12,Me=Math.PI,tt=Me/2,fg=Me/4,Ut=Me*2,Rt=180/Me,rt=Me/180,Le=Math.abs,jr=Math.atan,Xt=Math.atan2,ke=Math.cos;var Pd=Math.exp;var sa=Math.log,Ld=Math.pow,$e=Math.sin,nr=Math.sign||function(e){return e>0?1:e<0?-1:0},dt=Math.sqrt,vs=Math.tan;function Ud(e){return e>1?0:e<-1?Me:Math.acos(e)}function vt(e){return e>1?tt:e<-1?-tt:Math.asin(e)}function Ft(){}function Fd(e,t){e&&L$.hasOwnProperty(e.type)&&L$[e.type](e,t)}var P$={Feature:function(e,t){Fd(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)Fd(r[n].geometry,t)}},L$={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){dg(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)dg(r[n],t,0)},Polygon:function(e,t){U$(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)U$(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)Fd(r[n],t)}};function dg(e,t,r){var n=-1,i=e.length-r,o;for(t.lineStart();++n<i;)o=e[n],t.point(o[0],o[1],o[2]);t.lineEnd()}function U$(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)dg(e[r],t,1);t.polygonEnd()}function gn(e,t){e&&P$.hasOwnProperty(e.type)?P$[e.type](e,t):Fd(e,t)}function yl(e){return[Xt(e[1],e[0]),vt(e[2])]}function Zn(e){var t=e[0],r=e[1],n=ke(r);return[n*ke(t),n*$e(t),$e(r)]}function bl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function $s(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function qd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function wl(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function xl(e){var t=dt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function _l(e,t){function r(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),r}function pg(e,t){return Le(e)>Me&&(e-=Math.round(e/Ut)*Ut),[e,t]}pg.invert=pg;function hg(e,t,r){return(e%=Ut)?t||r?_l(q$(e),j$(t,r)):q$(e):t||r?j$(t,r):pg}function F$(e){return function(t,r){return t+=e,Le(t)>Me&&(t-=Math.round(t/Ut)*Ut),[t,r]}}function q$(e){var t=F$(e);return t.invert=F$(-e),t}function j$(e,t){var r=ke(e),n=$e(e),i=ke(t),o=$e(t);function a(s,u){var l=ke(u),c=ke(s)*l,f=$e(s)*l,d=$e(u),p=d*r+c*n;return[Xt(f*i-p*o,c*r-d*n),vt(p*i+f*o)]}return a.invert=function(s,u){var l=ke(u),c=ke(s)*l,f=$e(s)*l,d=$e(u),p=d*i-f*o;return[Xt(f*i+d*o,c*r+p*n),vt(p*r-c*n)]},a}function W$(e){e=hg(e[0]*rt,e[1]*rt,e.length>2?e[2]*rt:0);function t(r){return r=e(r[0]*rt,r[1]*rt),r[0]*=Rt,r[1]*=Rt,r}return t.invert=function(r){return r=e.invert(r[0]*rt,r[1]*rt),r[0]*=Rt,r[1]*=Rt,r},t}function H$(e,t,r,n,i,o){if(r){var a=ke(t),s=$e(t),u=n*r;i==null?(i=t+n*Ut,o=t-u/2):(i=V$(a,i),o=V$(a,o),(n>0?i<o:i>o)&&(i+=n*Ut));for(var l,c=i;n>0?c>o:c<o;c-=u)l=yl([a,-s*ke(c),-s*$e(c)]),e.point(l[0],l[1])}}function V$(e,t){t=Zn(t),t[0]-=e,xl(t);var r=Ud(-t[1]);return((-t[2]<0?-r:r)+Ut-Ee)%Ut}function jd(){var e=[],t;return{point:function(r,n,i){t.push([r,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Ft,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function Ss(e,t){return Le(e[0]-t[0])<Ee&&Le(e[1]-t[1])<Ee}function Wd(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Vd(e,t,r,n,i){var o=[],a=[],s,u;if(e.forEach(function(h){if(!((g=h.length-1)<=0)){var g,w=h[0],b=h[g],y;if(Ss(w,b)){if(!w[2]&&!b[2]){for(i.lineStart(),s=0;s<g;++s)i.point((w=h[s])[0],w[1]);i.lineEnd();return}b[0]+=2*Ee}o.push(y=new Wd(w,h,null,!0)),a.push(y.o=new Wd(w,null,y,!1)),o.push(y=new Wd(b,h,null,!1)),a.push(y.o=new Wd(b,null,y,!0))}}),!!o.length){for(a.sort(t),G$(o),G$(a),s=0,u=a.length;s<u;++s)a[s].e=r=!r;for(var l=o[0],c,f;;){for(var d=l,p=!0;d.v;)if((d=d.n)===l)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(s=0,u=c.length;s<u;++s)i.point((f=c[s])[0],f[1]);else n(d.x,d.n.x,1,i);d=d.n}else{if(p)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((f=c[s])[0],f[1]);else n(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function G$(e){if(t=e.length){for(var t,r=0,n=e[0],i;++r<t;)n.n=i=e[r],i.p=n,n=i;n.n=i=e[0],i.p=n}}function mg(e){return Le(e[0])<=Me?e[0]:nr(e[0])*((Le(e[0])+Me)%Ut-Me)}function Y$(e,t){var r=mg(t),n=t[1],i=$e(n),o=[$e(r),-ke(r),0],a=0,s=0,u=new kr;i===1?n=tt+Ee:i===-1&&(n=-tt-Ee);for(var l=0,c=e.length;l<c;++l)if(d=(f=e[l]).length)for(var f,d,p=f[d-1],h=mg(p),g=p[1]/2+fg,w=$e(g),b=ke(g),y=0;y<d;++y,h=v,w=T,b=I,p=$){var $=f[y],v=mg($),k=$[1]/2+fg,T=$e(k),I=ke(k),M=v-h,B=M>=0?1:-1,N=B*M,O=N>Me,q=w*T;if(u.add(Xt(q*B*$e(N),b*I+q*ke(N))),a+=O?M+B*Ut:M,O^h>=r^v>=r){var W=$s(Zn(p),Zn($));xl(W);var L=$s(o,W);xl(L);var P=(O^M>=0?-1:1)*vt(L[2]);(n>P||n===P&&(W[0]||W[1]))&&(s+=O^M>=0?1:-1)}}return(a<-Ee||a<Ee&&u<-Dd)^s&1}function Hd(e,t,r,n){return function(i){var o=t(i),a=jd(),s=t(a),u=!1,l,c,f,d={point:p,lineStart:g,lineEnd:w,polygonStart:function(){d.point=b,d.lineStart=y,d.lineEnd=$,c=[],l=[]},polygonEnd:function(){d.point=p,d.lineStart=g,d.lineEnd=w,c=ps(c);var v=Y$(l,n);c.length?(u||(i.polygonStart(),u=!0),Vd(c,AP,v,r,i)):v&&(u||(i.polygonStart(),u=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(v,k){e(v,k)&&i.point(v,k)}function h(v,k){o.point(v,k)}function g(){d.point=h,o.lineStart()}function w(){d.point=p,o.lineEnd()}function b(v,k){f.push([v,k]),s.point(v,k)}function y(){s.lineStart(),f=[]}function $(){b(f[0][0],f[0][1]),s.lineEnd();var v=s.clean(),k=a.result(),T,I=k.length,M,B,N;if(f.pop(),l.push(f),f=null,!!I){if(v&1){if(B=k[0],(M=B.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),T=0;T<M;++T)i.point((N=B[T])[0],N[1]);i.lineEnd()}return}I>1&&v&2&&k.push(k.pop().concat(k.shift())),c.push(k.filter(IP))}}return d}}function IP(e){return e.length>1}function AP(e,t){return((e=e.x)[0]<0?e[1]-tt-Ee:tt-e[1])-((t=t.x)[0]<0?t[1]-tt-Ee:tt-t[1])}var gg=Hd(function(){return!0},CP,zP,[-Me,-tt]);function CP(e){var t=NaN,r=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?Me:-Me,u=Le(o-t);Le(u-Me)<Ee?(e.point(t,r=(r+a)/2>0?tt:-tt),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),i=0):n!==s&&u>=Me&&(Le(t-n)<Ee&&(t-=n*Ee),Le(o-s)<Ee&&(o-=s*Ee),r=MP(t,r,o,a),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(s,r),i=0),e.point(t=o,r=a),n=s},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function MP(e,t,r,n){var i,o,a=$e(e-r);return Le(a)>Ee?jr(($e(t)*(o=ke(n))*$e(r)-$e(n)*(i=ke(t))*$e(e))/(i*o*a)):(t+n)/2}function zP(e,t,r,n){var i;if(e==null)i=r*tt,n.point(-Me,i),n.point(0,i),n.point(Me,i),n.point(Me,0),n.point(Me,-i),n.point(0,-i),n.point(-Me,-i),n.point(-Me,0),n.point(-Me,i);else if(Le(e[0]-t[0])>Ee){var o=e[0]<t[0]?Me:-Me;i=r*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(t[0],t[1])}function K$(e){var t=ke(e),r=2*rt,n=t>0,i=Le(t)>Ee;function o(c,f,d,p){H$(p,e,r,d,c,f)}function a(c,f){return ke(c)*ke(f)>t}function s(c){var f,d,p,h,g;return{lineStart:function(){h=p=!1,g=1},point:function(w,b){var y=[w,b],$,v=a(w,b),k=n?v?0:l(w,b):v?l(w+(w<0?Me:-Me),b):0;if(!f&&(h=p=v)&&c.lineStart(),v!==p&&($=u(f,y),(!$||Ss(f,$)||Ss(y,$))&&(y[2]=1)),v!==p)g=0,v?(c.lineStart(),$=u(y,f),c.point($[0],$[1])):($=u(f,y),c.point($[0],$[1],2),c.lineEnd()),f=$;else if(i&&f&&n^v){var T;!(k&d)&&(T=u(y,f,!0))&&(g=0,n?(c.lineStart(),c.point(T[0][0],T[0][1]),c.point(T[1][0],T[1][1]),c.lineEnd()):(c.point(T[1][0],T[1][1]),c.lineEnd(),c.lineStart(),c.point(T[0][0],T[0][1],3)))}v&&(!f||!Ss(f,y))&&c.point(y[0],y[1]),f=y,p=v,d=k},lineEnd:function(){p&&c.lineEnd(),f=null},clean:function(){return g|(h&&p)<<1}}}function u(c,f,d){var p=Zn(c),h=Zn(f),g=[1,0,0],w=$s(p,h),b=bl(w,w),y=w[0],$=b-y*y;if(!$)return!d&&c;var v=t*b/$,k=-t*y/$,T=$s(g,w),I=wl(g,v),M=wl(w,k);qd(I,M);var B=T,N=bl(I,B),O=bl(B,B),q=N*N-O*(bl(I,I)-1);if(!(q<0)){var W=dt(q),L=wl(B,(-N-W)/O);if(qd(L,I),L=yl(L),!d)return L;var P=c[0],X=f[0],K=c[1],ae=f[1],V;X<P&&(V=P,P=X,X=V);var ie=X-P,U=Le(ie-Me)<Ee,Y=U||ie<Ee;if(!U&&ae<K&&(V=K,K=ae,ae=V),Y?U?K+ae>0^L[1]<(Le(L[0]-P)<Ee?K:ae):K<=L[1]&&L[1]<=ae:ie>Me^(P<=L[0]&&L[0]<=X)){var re=wl(B,(-N+W)/O);return qd(re,I),[L,yl(re)]}}}function l(c,f){var d=n?e:Me-e,p=0;return c<-d?p|=1:c>d&&(p|=2),f<-d?p|=4:f>d&&(p|=8),p}return Hd(a,s,o,n?[0,-e]:[-Me,e-Me])}function X$(e,t,r,n,i,o){var a=e[0],s=e[1],u=t[0],l=t[1],c=0,f=1,d=u-a,p=l-s,h;if(h=r-a,!(!d&&h>0)){if(h/=d,d<0){if(h<c)return;h<f&&(f=h)}else if(d>0){if(h>f)return;h>c&&(c=h)}if(h=i-a,!(!d&&h<0)){if(h/=d,d<0){if(h>f)return;h>c&&(c=h)}else if(d>0){if(h<c)return;h<f&&(f=h)}if(h=n-s,!(!p&&h>0)){if(h/=p,p<0){if(h<c)return;h<f&&(f=h)}else if(p>0){if(h>f)return;h>c&&(c=h)}if(h=o-s,!(!p&&h<0)){if(h/=p,p<0){if(h>f)return;h>c&&(c=h)}else if(p>0){if(h<c)return;h<f&&(f=h)}return c>0&&(e[0]=a+c*d,e[1]=s+c*p),f<1&&(t[0]=a+f*d,t[1]=s+f*p),!0}}}}}var vl=1e9,Gd=-vl;function ks(e,t,r,n){function i(l,c){return e<=l&&l<=r&&t<=c&&c<=n}function o(l,c,f,d){var p=0,h=0;if(l==null||(p=a(l,f))!==(h=a(c,f))||u(l,c)<0^f>0)do d.point(p===0||p===3?e:r,p>1?n:t);while((p=(p+f+4)%4)!==h);else d.point(c[0],c[1])}function a(l,c){return Le(l[0]-e)<Ee?c>0?0:3:Le(l[0]-r)<Ee?c>0?2:1:Le(l[1]-t)<Ee?c>0?1:0:c>0?3:2}function s(l,c){return u(l.x,c.x)}function u(l,c){var f=a(l,1),d=a(c,1);return f!==d?f-d:f===0?c[1]-l[1]:f===1?l[0]-c[0]:f===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,f=jd(),d,p,h,g,w,b,y,$,v,k,T,I={point:M,lineStart:q,lineEnd:W,polygonStart:N,polygonEnd:O};function M(P,X){i(P,X)&&c.point(P,X)}function B(){for(var P=0,X=0,K=p.length;X<K;++X)for(var ae=p[X],V=1,ie=ae.length,U=ae[0],Y,re,F=U[0],ue=U[1];V<ie;++V)Y=F,re=ue,U=ae[V],F=U[0],ue=U[1],re<=n?ue>n&&(F-Y)*(n-re)>(ue-re)*(e-Y)&&++P:ue<=n&&(F-Y)*(n-re)<(ue-re)*(e-Y)&&--P;return P}function N(){c=f,d=[],p=[],T=!0}function O(){var P=B(),X=T&&P,K=(d=ps(d)).length;(X||K)&&(l.polygonStart(),X&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),K&&Vd(d,s,P,o,l),l.polygonEnd()),c=l,d=p=h=null}function q(){I.point=L,p&&p.push(h=[]),k=!0,v=!1,y=$=NaN}function W(){d&&(L(g,w),b&&v&&f.rejoin(),d.push(f.result())),I.point=M,v&&c.lineEnd()}function L(P,X){var K=i(P,X);if(p&&h.push([P,X]),k)g=P,w=X,b=K,k=!1,K&&(c.lineStart(),c.point(P,X));else if(K&&v)c.point(P,X);else{var ae=[y=Math.max(Gd,Math.min(vl,y)),$=Math.max(Gd,Math.min(vl,$))],V=[P=Math.max(Gd,Math.min(vl,P)),X=Math.max(Gd,Math.min(vl,X))];X$(ae,V,e,t,r,n)?(v||(c.lineStart(),c.point(ae[0],ae[1])),c.point(V[0],V[1]),K||c.lineEnd(),T=!1):K&&(c.lineStart(),c.point(P,X),T=!1)}y=P,$=X,v=K}return I}}var $l=e=>e;var yg=new kr,bg=new kr,Z$,Q$,wg,xg,co={point:Ft,lineStart:Ft,lineEnd:Ft,polygonStart:function(){co.lineStart=BP,co.lineEnd=NP},polygonEnd:function(){co.lineStart=co.lineEnd=co.point=Ft,yg.add(Le(bg)),bg=new kr},result:function(){var e=yg/2;return yg=new kr,e}};function BP(){co.point=OP}function OP(e,t){co.point=J$,Z$=wg=e,Q$=xg=t}function J$(e,t){bg.add(xg*e-wg*t),wg=e,xg=t}function NP(){J$(Z$,Q$)}var _g=co;var Es=1/0,Yd=Es,Sl=-Es,Kd=Sl,RP={point:DP,lineStart:Ft,lineEnd:Ft,polygonStart:Ft,polygonEnd:Ft,result:function(){var e=[[Es,Yd],[Sl,Kd]];return Sl=Kd=-(Yd=Es=1/0),e}};function DP(e,t){e<Es&&(Es=e),e>Sl&&(Sl=e),t<Yd&&(Yd=t),t>Kd&&(Kd=t)}var Ts=RP;var vg=0,$g=0,kl=0,Xd=0,Zd=0,Is=0,Sg=0,kg=0,El=0,r4,n4,Qn,Jn,yn={point:ua,lineStart:e4,lineEnd:t4,polygonStart:function(){yn.lineStart=UP,yn.lineEnd=FP},polygonEnd:function(){yn.point=ua,yn.lineStart=e4,yn.lineEnd=t4},result:function(){var e=El?[Sg/El,kg/El]:Is?[Xd/Is,Zd/Is]:kl?[vg/kl,$g/kl]:[NaN,NaN];return vg=$g=kl=Xd=Zd=Is=Sg=kg=El=0,e}};function ua(e,t){vg+=e,$g+=t,++kl}function e4(){yn.point=PP}function PP(e,t){yn.point=LP,ua(Qn=e,Jn=t)}function LP(e,t){var r=e-Qn,n=t-Jn,i=dt(r*r+n*n);Xd+=i*(Qn+e)/2,Zd+=i*(Jn+t)/2,Is+=i,ua(Qn=e,Jn=t)}function t4(){yn.point=ua}function UP(){yn.point=qP}function FP(){i4(r4,n4)}function qP(e,t){yn.point=i4,ua(r4=Qn=e,n4=Jn=t)}function i4(e,t){var r=e-Qn,n=t-Jn,i=dt(r*r+n*n);Xd+=i*(Qn+e)/2,Zd+=i*(Jn+t)/2,Is+=i,i=Jn*e-Qn*t,Sg+=i*(Qn+e),kg+=i*(Jn+t),El+=i*3,ua(Qn=e,Jn=t)}var Eg=yn;function Qd(e){this._context=e}Qd.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ut);break}}},result:Ft};var Ig=new kr,Tg,o4,a4,Tl,Il,Jd={point:Ft,lineStart:function(){Jd.point=jP},lineEnd:function(){Tg&&s4(o4,a4),Jd.point=Ft},polygonStart:function(){Tg=!0},polygonEnd:function(){Tg=null},result:function(){var e=+Ig;return Ig=new kr,e}};function jP(e,t){Jd.point=s4,o4=Tl=e,a4=Il=t}function s4(e,t){Tl-=e,Il-=t,Ig.add(dt(Tl*Tl+Il*Il)),Tl=e,Il=t}var Ag=Jd;var u4,ep,l4,c4,As=class{constructor(t){this._append=t==null?f4:WP(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==l4||this._append!==ep){let n=this._radius,i=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,l4=n,ep=this._append,c4=this._,this._=i}this._+=c4;break}}}result(){let t=this._;return this._="",t.length?t:null}};function f4(e){let t=1;this._+=e[0];for(let r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function WP(e){let t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return f4;if(t!==u4){let r=10**t;u4=t,ep=function(i){let o=1;this._+=i[0];for(let a=i.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+i[o]}}return ep}function Cs(e,t){let r=3,n=4.5,i,o;function a(s){return s&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),gn(s,i(o))),o.result()}return a.area=function(s){return gn(s,i(_g)),_g.result()},a.measure=function(s){return gn(s,i(Ag)),Ag.result()},a.bounds=function(s){return gn(s,i(Ts)),Ts.result()},a.centroid=function(s){return gn(s,i(Eg)),Eg.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,$l):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new As(r)):new Qd(t=s),typeof n!="function"&&o.pointRadius(n),a):t},a.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(o.pointRadius(+s),+s),a):n},a.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{let u=Math.floor(s);if(!(u>=0))throw new RangeError(`invalid digits: ${s}`);r=u}return t===null&&(o=new As(r)),a},a.projection(e).digits(r).context(t)}function Ms(e){return{stream:zs(e)}}function zs(e){return function(t){var r=new Cg;for(var n in e)r[n]=e[n];return r.stream=t,r}}function Cg(){}Cg.prototype={constructor:Cg,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Mg(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),gn(r,e.stream(Ts)),t(Ts.result()),n!=null&&e.clipExtent(n),e}function Al(e,t,r){return Mg(e,function(n){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),s=+t[0][0]+(i-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(o-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([s,u])},r)}function tp(e,t,r){return Al(e,[[0,0],t],r)}function rp(e,t,r){return Mg(e,function(n){var i=+t,o=i/(n[1][0]-n[0][0]),a=(i-o*(n[1][0]+n[0][0]))/2,s=-o*n[0][1];e.scale(150*o).translate([a,s])},r)}function np(e,t,r){return Mg(e,function(n){var i=+t,o=i/(n[1][1]-n[0][1]),a=-o*n[0][0],s=(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([a,s])},r)}var d4=16,VP=ke(30*rt);function zg(e,t){return+t?GP(e,t):HP(e)}function HP(e){return zs({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function GP(e,t){function r(n,i,o,a,s,u,l,c,f,d,p,h,g,w){var b=l-n,y=c-i,$=b*b+y*y;if($>4*t&&g--){var v=a+d,k=s+p,T=u+h,I=dt(v*v+k*k+T*T),M=vt(T/=I),B=Le(Le(T)-1)<Ee||Le(o-f)<Ee?(o+f)/2:Xt(k,v),N=e(B,M),O=N[0],q=N[1],W=O-n,L=q-i,P=y*W-b*L;(P*P/$>t||Le((b*W+y*L)/$-.5)>.3||a*d+s*p+u*h<VP)&&(r(n,i,o,a,s,u,O,q,B,v/=I,k/=I,T,g,w),w.point(O,q),r(O,q,B,v,k,T,l,c,f,d,p,h,g,w))}}return function(n){var i,o,a,s,u,l,c,f,d,p,h,g,w={point:b,lineStart:y,lineEnd:v,polygonStart:function(){n.polygonStart(),w.lineStart=k},polygonEnd:function(){n.polygonEnd(),w.lineStart=y}};function b(M,B){M=e(M,B),n.point(M[0],M[1])}function y(){f=NaN,w.point=$,n.lineStart()}function $(M,B){var N=Zn([M,B]),O=e(M,B);r(f,d,c,p,h,g,f=O[0],d=O[1],c=M,p=N[0],h=N[1],g=N[2],d4,n),n.point(f,d)}function v(){w.point=b,n.lineEnd()}function k(){y(),w.point=T,w.lineEnd=I}function T(M,B){$(i=M,B),o=f,a=d,s=p,u=h,l=g,w.point=$}function I(){r(f,d,c,p,h,g,o,a,i,s,u,l,d4,n),w.lineEnd=v,v()}return w}}var YP=zs({point:function(e,t){this.stream.point(e*rt,t*rt)}});function KP(e){return zs({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function XP(e,t,r,n,i){function o(a,s){return a*=n,s*=i,[t+e*a,r-e*s]}return o.invert=function(a,s){return[(a-t)/e*n,(r-s)/e*i]},o}function p4(e,t,r,n,i,o){if(!o)return XP(e,t,r,n,i);var a=ke(o),s=$e(o),u=a*e,l=s*e,c=a/e,f=s/e,d=(s*r-a*t)/e,p=(s*t+a*r)/e;function h(g,w){return g*=n,w*=i,[u*g-l*w+t,r-l*g-u*w]}return h.invert=function(g,w){return[n*(c*g-f*w+d),i*(p-f*g-c*w)]},h}function Zt(e){return Bg(function(){return e})()}function Bg(e){var t,r=150,n=480,i=250,o=0,a=0,s=0,u=0,l=0,c,f=0,d=1,p=1,h=null,g=gg,w=null,b,y,$,v=$l,k=.5,T,I,M,B,N;function O(P){return M(P[0]*rt,P[1]*rt)}function q(P){return P=M.invert(P[0],P[1]),P&&[P[0]*Rt,P[1]*Rt]}O.stream=function(P){return B&&N===P?B:B=YP(KP(c)(g(T(v(N=P)))))},O.preclip=function(P){return arguments.length?(g=P,h=void 0,L()):g},O.postclip=function(P){return arguments.length?(v=P,w=b=y=$=null,L()):v},O.clipAngle=function(P){return arguments.length?(g=+P?K$(h=P*rt):(h=null,gg),L()):h*Rt},O.clipExtent=function(P){return arguments.length?(v=P==null?(w=b=y=$=null,$l):ks(w=+P[0][0],b=+P[0][1],y=+P[1][0],$=+P[1][1]),L()):w==null?null:[[w,b],[y,$]]},O.scale=function(P){return arguments.length?(r=+P,W()):r},O.translate=function(P){return arguments.length?(n=+P[0],i=+P[1],W()):[n,i]},O.center=function(P){return arguments.length?(o=P[0]%360*rt,a=P[1]%360*rt,W()):[o*Rt,a*Rt]},O.rotate=function(P){return arguments.length?(s=P[0]%360*rt,u=P[1]%360*rt,l=P.length>2?P[2]%360*rt:0,W()):[s*Rt,u*Rt,l*Rt]},O.angle=function(P){return arguments.length?(f=P%360*rt,W()):f*Rt},O.reflectX=function(P){return arguments.length?(d=P?-1:1,W()):d<0},O.reflectY=function(P){return arguments.length?(p=P?-1:1,W()):p<0},O.precision=function(P){return arguments.length?(T=zg(I,k=P*P),L()):dt(k)},O.fitExtent=function(P,X){return Al(O,P,X)},O.fitSize=function(P,X){return tp(O,P,X)},O.fitWidth=function(P,X){return rp(O,P,X)},O.fitHeight=function(P,X){return np(O,P,X)};function W(){var P=p4(r,0,0,d,p,f).apply(null,t(o,a)),X=p4(r,n-P[0],i-P[1],d,p,f);return c=hg(s,u,l),I=_l(t,X),M=_l(c,I),T=zg(I,k),L()}function L(){return B=N=null,O}return function(){return t=e.apply(this,arguments),O.invert=t.invert&&q,W()}}function Bs(e){var t=0,r=Me/3,n=Bg(e),i=n(t,r);return i.parallels=function(o){return arguments.length?n(t=o[0]*rt,r=o[1]*rt):[t*Rt,r*Rt]},i}function h4(e){var t=ke(e);function r(n,i){return[n*t,$e(i)/t]}return r.invert=function(n,i){return[n/t,vt(i*t)]},r}function m4(e,t){var r=$e(e),n=(r+$e(t))/2;if(Le(n)<Ee)return h4(e);var i=1+r*(2*n-r),o=dt(i)/n;function a(s,u){var l=dt(i-2*n*$e(u))/n;return[l*$e(s*=n),o-l*ke(s)]}return a.invert=function(s,u){var l=o-u,c=Xt(s,Le(l))*nr(l);return l*n<0&&(c-=Me*nr(s)*nr(l)),[c/n,vt((i-(s*s+l*l)*n*n)/(2*n))]},a}function fo(){return Bs(m4).scale(155.424).center([0,33.6442])}function Cl(){return fo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ZP(e){var t=e.length;return{point:function(r,n){for(var i=-1;++i<t;)e[i].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function Og(){var e,t,r=Cl(),n,i=fo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=fo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(d,p){u=[d,p]}};function c(d){var p=d[0],h=d[1];return u=null,n.point(p,h),u||(o.point(p,h),u)||(s.point(p,h),u)}c.invert=function(d){var p=r.scale(),h=r.translate(),g=(d[0]-h[0])/p,w=(d[1]-h[1])/p;return(w>=.12&&w<.234&&g>=-.425&&g<-.214?i:w>=.166&&w<.234&&g>=-.214&&g<-.115?a:r).invert(d)},c.stream=function(d){return e&&t===d?e:e=ZP([r.stream(t=d),i.stream(d),a.stream(d)])},c.precision=function(d){return arguments.length?(r.precision(d),i.precision(d),a.precision(d),f()):r.precision()},c.scale=function(d){return arguments.length?(r.scale(d),i.scale(d*.35),a.scale(d),c.translate(r.translate())):r.scale()},c.translate=function(d){if(!arguments.length)return r.translate();var p=r.scale(),h=+d[0],g=+d[1];return n=r.translate(d).clipExtent([[h-.455*p,g-.238*p],[h+.455*p,g+.238*p]]).stream(l),o=i.translate([h-.307*p,g+.201*p]).clipExtent([[h-.425*p+Ee,g+.12*p+Ee],[h-.214*p-Ee,g+.234*p-Ee]]).stream(l),s=a.translate([h-.205*p,g+.212*p]).clipExtent([[h-.214*p+Ee,g+.166*p+Ee],[h-.115*p-Ee,g+.234*p-Ee]]).stream(l),f()},c.fitExtent=function(d,p){return Al(c,d,p)},c.fitSize=function(d,p){return tp(c,d,p)},c.fitWidth=function(d,p){return rp(c,d,p)},c.fitHeight=function(d,p){return np(c,d,p)};function f(){return e=t=null,c}return c.scale(1070)}function ip(e){return function(t,r){var n=ke(t),i=ke(r),o=e(n*i);return o===1/0?[2,0]:[o*i*$e(t),o*$e(r)]}}function ei(e){return function(t,r){var n=dt(t*t+r*r),i=e(n),o=$e(i),a=ke(i);return[Xt(t*o,n*a),vt(n&&r*o/n)]}}var Ng=ip(function(e){return dt(2/(1+e))});Ng.invert=ei(function(e){return 2*vt(e/2)});function Rg(){return Zt(Ng).scale(124.75).clipAngle(180-.001)}var Dg=ip(function(e){return(e=Ud(e))&&e/$e(e)});Dg.invert=ei(function(e){return e});function Pg(){return Zt(Dg).scale(79.4188).clipAngle(180-.001)}function Os(e,t){return[e,sa(vs((tt+t)/2))]}Os.invert=function(e,t){return[e,2*jr(Pd(t))-tt]};function Lg(){return Ug(Os).scale(961/Ut)}function Ug(e){var t=Zt(e),r=t.center,n=t.scale,i=t.translate,o=t.clipExtent,a=null,s,u,l;t.scale=function(f){return arguments.length?(n(f),c()):n()},t.translate=function(f){return arguments.length?(i(f),c()):i()},t.center=function(f){return arguments.length?(r(f),c()):r()},t.clipExtent=function(f){return arguments.length?(f==null?a=s=u=l=null:(a=+f[0][0],s=+f[0][1],u=+f[1][0],l=+f[1][1]),c()):a==null?null:[[a,s],[u,l]]};function c(){var f=Me*n(),d=t(W$(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===Os?[[Math.max(d[0]-f,a),s],[Math.min(d[0]+f,u),l]]:[[a,Math.max(d[1]-f,s)],[u,Math.min(d[1]+f,l)]])}return c()}function op(e){return vs((tt+e)/2)}function g4(e,t){var r=ke(e),n=e===t?$e(e):sa(r/ke(t))/sa(op(t)/op(e)),i=r*Ld(op(e),n)/n;if(!n)return Os;function o(a,s){i>0?s<-tt+Ee&&(s=-tt+Ee):s>tt-Ee&&(s=tt-Ee);var u=i/Ld(op(s),n);return[u*$e(n*a),i-u*ke(n*a)]}return o.invert=function(a,s){var u=i-s,l=nr(n)*dt(a*a+u*u),c=Xt(a,Le(u))*nr(u);return u*n<0&&(c-=Me*nr(a)*nr(u)),[c/n,2*jr(Ld(i/l,1/n))-tt]},o}function Fg(){return Bs(g4).scale(109.5).parallels([30,30])}function Ns(e,t){return[e,t]}Ns.invert=Ns;function qg(){return Zt(Ns).scale(152.63)}function y4(e,t){var r=ke(e),n=e===t?$e(e):(r-ke(t))/(t-e),i=r/n+e;if(Le(n)<Ee)return Ns;function o(a,s){var u=i-s,l=n*a;return[u*$e(l),i-u*ke(l)]}return o.invert=function(a,s){var u=i-s,l=Xt(a,Le(u))*nr(u);return u*n<0&&(l-=Me*nr(a)*nr(u)),[l/n,i-nr(n)*dt(a*a+u*u)]},o}function jg(){return Bs(y4).scale(131.154).center([0,13.9389])}var Ml=1.340264,zl=-.081106,Bl=893e-6,Ol=.003796,ap=dt(3)/2,QP=12;function Wg(e,t){var r=vt(ap*$e(t)),n=r*r,i=n*n*n;return[e*ke(r)/(ap*(Ml+3*zl*n+i*(7*Bl+9*Ol*n))),r*(Ml+zl*n+i*(Bl+Ol*n))]}Wg.invert=function(e,t){for(var r=t,n=r*r,i=n*n*n,o=0,a,s,u;o<QP&&(s=r*(Ml+zl*n+i*(Bl+Ol*n))-t,u=Ml+3*zl*n+i*(7*Bl+9*Ol*n),r-=a=s/u,n=r*r,i=n*n*n,!(Le(a)<Dd));++o);return[ap*e*(Ml+3*zl*n+i*(7*Bl+9*Ol*n))/ke(r),vt($e(r)/ap)]};function Vg(){return Zt(Wg).scale(177.158)}function Hg(e,t){var r=ke(t),n=ke(e)*r;return[r*$e(e)/n,$e(t)/n]}Hg.invert=ei(jr);function Gg(){return Zt(Hg).scale(144.049).clipAngle(60)}function Yg(e,t){return[ke(t)*$e(e),$e(t)]}Yg.invert=ei(vt);function Kg(){return Zt(Yg).scale(249.5).clipAngle(90+Ee)}function Xg(e,t){var r=ke(t),n=1+ke(e)*r;return[r*$e(e)/n,$e(t)/n]}Xg.invert=ei(function(e){return 2*jr(e)});function Zg(){return Zt(Xg).scale(250).clipAngle(142)}function Qg(e,t){return[sa(vs((tt+t)/2)),-e]}Qg.invert=function(e,t){return[-t,2*jr(Pd(e))-tt]};function Jg(){var e=Ug(Qg),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function zt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Nl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var Rl=Symbol("implicit");function la(){var e=new fr,t=[],r=[],n=Rl;function i(o){let a=e.get(o);if(a===void 0){if(n!==Rl)return n;e.set(o,a=t.push(o)-1)}return r[a%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new fr;for(let a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return la(t,r).unknown(n)},zt.apply(i,arguments),i}function po(){var e=la().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,a,s=!1,u=0,l=0,c=.5;delete e.unknown;function f(){var d=t().length,p=i<n,h=p?i:n,g=p?n:i;o=(g-h)/Math.max(1,d-u+l*2),s&&(o=Math.floor(o)),h+=(g-h-o*(d-u))*c,a=o*(1-u),s&&(h=Math.round(h),a=Math.round(a));var w=Zo(d).map(function(b){return h+o*b});return r(p?w.reverse():w)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(s=!!d,f()):s},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},e.copy=function(){return po(t(),[n,i]).round(s).paddingInner(u).paddingOuter(l).align(c)},zt.apply(f(),arguments)}function b4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return b4(t())},e}function ey(){return b4(po.apply(null,arguments).paddingInner(1))}function ty(e){return function(){return e}}function Rs(e){return+e}var w4=[0,1];function _r(e){return e}function ry(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ty(isNaN(t)?NaN:.5)}function JP(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function eL(e,t,r){var n=e[0],i=e[1],o=t[0],a=t[1];return i<n?(n=ry(i,n),o=r(a,o)):(n=ry(n,i),o=r(o,a)),function(s){return o(n(s))}}function tL(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=ry(e[a],e[a+1]),o[a]=r(t[a],t[a+1]);return function(s){var u=vi(e,s,1,n)-1;return o[u](i[u](s))}}function ti(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ca(){var e=w4,t=w4,r=hn,n,i,o,a=_r,s,u,l;function c(){var d=Math.min(e.length,t.length);return a!==_r&&(a=JP(e[0],e[d-1])),s=d>2?tL:eL,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?o:(u||(u=s(e.map(n),t,r)))(n(a(d)))}return f.invert=function(d){return a(i((l||(l=s(t,e.map(n),pt)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Rs),c()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=na,c()},f.clamp=function(d){return arguments.length?(a=d?!0:_r,c()):a!==_r},f.interpolate=function(d){return arguments.length?(r=d,c()):r},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return n=d,i=p,c()}}function Dl(){return ca()(_r,_r)}function ny(e,t,r,n){var i=ds(e,t,r),o;switch(n=Xn(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=lg(i,a))&&(n.precision=o),Rd(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=cg(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=ug(i))&&(n.precision=o-(n.type==="%")*2);break}}return qr(n)}function Ci(e){var t=e.domain;return e.ticks=function(r){var n=t();return fn(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return ny(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,a=n[i],s=n[o],u,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=Ko(a,s,r),l===u)return n[i]=a,n[o]=s,t(n);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function fa(){var e=Dl();return e.copy=function(){return ti(e,fa())},zt.apply(e,arguments),Ci(e)}function Pl(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Rs),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Pl(e).unknown(t)},e=arguments.length?Array.from(e,Rs):[0,1],Ci(r)}function Ll(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],a;return o<i&&(a=r,r=n,n=a,a=i,i=o,o=a),e[r]=t.floor(i),e[n]=t.ceil(o),e}function x4(e){return Math.log(e)}function _4(e){return Math.exp(e)}function rL(e){return-Math.log(-e)}function nL(e){return-Math.exp(-e)}function iL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oL(e){return e===10?iL:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aL(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function v4(e){return(t,r)=>-e(-t,r)}function iy(e){let t=e(x4,_4),r=t.domain,n=10,i,o;function a(){return i=aL(n),o=oL(n),r()[0]<0?(i=v4(i),o=v4(o),e(rL,nL)):e(x4,_4),t}return t.base=function(s){return arguments.length?(n=+s,a()):n},t.domain=function(s){return arguments.length?(r(s),a()):r()},t.ticks=s=>{let u=r(),l=u[0],c=u[u.length-1],f=c<l;f&&([l,c]=[c,l]);let d=i(l),p=i(c),h,g,w=s==null?10:+s,b=[];if(!(n%1)&&p-d<w){if(d=Math.floor(d),p=Math.ceil(p),l>0){for(;d<=p;++d)for(h=1;h<n;++h)if(g=d<0?h/o(-d):h*o(d),!(g<l)){if(g>c)break;b.push(g)}}else for(;d<=p;++d)for(h=n-1;h>=1;--h)if(g=d>0?h/o(-d):h*o(d),!(g<l)){if(g>c)break;b.push(g)}b.length*2<w&&(b=fn(l,c,w))}else b=fn(d,p,Math.min(p-d,w)).map(o);return f?b.reverse():b},t.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Xn(u)).precision==null&&(u.trim=!0),u=qr(u)),s===1/0)return u;let l=Math.max(1,n*s/t.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=l?u(c):""}},t.nice=()=>r(Ll(r(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function Ul(){let e=iy(ca()).domain([1,10]);return e.copy=()=>ti(e,Ul()).base(e.base()),zt.apply(e,arguments),e}function $4(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S4(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function oy(e){var t=1,r=e($4(t),S4(t));return r.constant=function(n){return arguments.length?e($4(t=+n),S4(t)):t},Ci(r)}function Fl(){var e=oy(ca());return e.copy=function(){return ti(e,Fl()).constant(e.constant())},zt.apply(e,arguments)}function k4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function sL(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uL(e){return e<0?-e*e:e*e}function ay(e){var t=e(_r,_r),r=1;function n(){return r===1?e(_r,_r):r===.5?e(sL,uL):e(k4(r),k4(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ci(t)}function ql(){var e=ay(ca());return e.copy=function(){return ti(e,ql()).exponent(e.exponent())},zt.apply(e,arguments),e}function jl(){var e=[],t=[],r=[],n;function i(){var a=0,s=Math.max(1,t.length);for(r=new Array(s-1);++a<s;)r[a-1]=T1(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?n:t[vi(r,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(bt),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return jl().domain(e).range(t).unknown(n)},zt.apply(o,arguments)}function Wl(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[vi(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Wl().domain(e).range(t).unknown(r)},zt.apply(i,arguments)}var sy=new Date,uy=new Date;function ut(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{let a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{let u=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return u;let l;do u.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<a);return u},i.filter=o=>ut(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),r&&(i.count=(o,a)=>(sy.setTime(+o),uy.setTime(+a),e(sy),e(uy),Math.floor(r(sy,uy))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?a=>n(a)%o===0:a=>i.count(0,a)%o===0):i)),i}var Vl=ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vl.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Vl);var bde=Vl.range;var qt=ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),E4=qt.range;var Mi=ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),lL=Mi.range,zi=ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),cL=zi.range;var Bi=ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),fL=Bi.range,Oi=ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),dL=Oi.range;var Wr=ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),pL=Wr.range,ha=ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),hL=ha.range,ma=ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),mL=ma.range;function ga(e){return ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}var Tr=ga(0),ho=ga(1),sp=ga(2),up=ga(3),ni=ga(4),lp=ga(5),cp=ga(6),I4=Tr.range,gL=ho.range,yL=sp.range,bL=up.range,wL=ni.range,xL=lp.range,_L=cp.range;function ya(e){return ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/6048e5)}var Ir=ya(0),mo=ya(1),fp=ya(2),dp=ya(3),ii=ya(4),pp=ya(5),hp=ya(6),A4=Ir.range,vL=mo.range,$L=fp.range,SL=dp.range,kL=ii.range,EL=pp.range,TL=hp.range;var Ni=ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),IL=Ni.range,Ri=ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),AL=Ri.range;var ir=ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ir.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});var CL=ir.range,or=ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());or.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});var ML=or.range;function M4(e,t,r,n,i,o){let a=[[qt,1,1e3],[qt,5,5*1e3],[qt,15,15*1e3],[qt,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function s(l,c,f){let d=c<l;d&&([l,c]=[c,l]);let p=f&&typeof f.range=="function"?f:u(l,c,f),h=p?p.range(l,+c+1):[];return d?h.reverse():h}function u(l,c,f){let d=Math.abs(c-l)/f,p=_i(([,,w])=>w).right(a,d);if(p===a.length)return e.every(ds(l/31536e6,c/31536e6,f));if(p===0)return Vl.every(Math.max(ds(l,c,f),1));let[h,g]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return h.every(g)}return[s,u]}var[ly,Gl]=M4(or,Ri,Ir,ma,Oi,zi),[cy,fy]=M4(ir,Ni,Tr,Wr,Bi,Mi);function dy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function py(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function hy(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,u=e.shortMonths,l=Kl(i),c=Xl(i),f=Kl(o),d=Xl(o),p=Kl(a),h=Xl(a),g=Kl(s),w=Xl(s),b=Kl(u),y=Xl(u),$={a:K,A:ae,b:V,B:ie,c:null,d:D4,e:D4,f:tU,g:fU,G:pU,H:QL,I:JL,j:eU,L:q4,m:rU,M:nU,p:U,q:Y,Q:U4,s:F4,S:iU,u:oU,U:aU,V:sU,w:uU,W:lU,x:null,X:null,y:cU,Y:dU,Z:hU,"%":L4},v={a:re,A:F,b:ue,B:Se,c:null,d:P4,e:P4,f:bU,g:IU,G:CU,H:mU,I:gU,j:yU,L:W4,m:wU,M:xU,p:pe,q:me,Q:U4,s:F4,S:_U,u:vU,U:$U,V:SU,w:kU,W:EU,x:null,X:null,y:TU,Y:AU,Z:MU,"%":L4},k={a:N,A:O,b:q,B:W,c:L,d:N4,e:N4,f:YL,g:O4,G:B4,H:R4,I:R4,j:WL,L:GL,m:jL,M:VL,p:B,q:qL,Q:XL,s:ZL,S:HL,u:DL,U:PL,V:LL,w:RL,W:UL,x:P,X,y:O4,Y:B4,Z:FL,"%":KL};$.x=T(r,$),$.X=T(n,$),$.c=T(t,$),v.x=T(r,v),v.X=T(n,v),v.c=T(t,v);function T(J,le){return function(ce){var ee=[],Fe=-1,be=0,qe=J.length,x,S,C;for(ce instanceof Date||(ce=new Date(+ce));++Fe<qe;)J.charCodeAt(Fe)===37&&(ee.push(J.slice(be,Fe)),(S=z4[x=J.charAt(++Fe)])!=null?x=J.charAt(++Fe):S=x==="e"?" ":"0",(C=le[x])&&(x=C(ce,S)),ee.push(x),be=Fe+1);return ee.push(J.slice(be,Fe)),ee.join("")}}function I(J,le){return function(ce){var ee=Yl(1900,void 0,1),Fe=M(ee,J,ce+="",0),be,qe;if(Fe!=ce.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(le&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(be=py(Yl(ee.y,0,1)),qe=be.getUTCDay(),be=qe>4||qe===0?mo.ceil(be):mo(be),be=ha.offset(be,(ee.V-1)*7),ee.y=be.getUTCFullYear(),ee.m=be.getUTCMonth(),ee.d=be.getUTCDate()+(ee.w+6)%7):(be=dy(Yl(ee.y,0,1)),qe=be.getDay(),be=qe>4||qe===0?ho.ceil(be):ho(be),be=Wr.offset(be,(ee.V-1)*7),ee.y=be.getFullYear(),ee.m=be.getMonth(),ee.d=be.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),qe="Z"in ee?py(Yl(ee.y,0,1)).getUTCDay():dy(Yl(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(qe+5)%7:ee.w+ee.U*7-(qe+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,py(ee)):dy(ee)}}function M(J,le,ce,ee){for(var Fe=0,be=le.length,qe=ce.length,x,S;Fe<be;){if(ee>=qe)return-1;if(x=le.charCodeAt(Fe++),x===37){if(x=le.charAt(Fe++),S=k[x in z4?le.charAt(Fe++):x],!S||(ee=S(J,ce,ee))<0)return-1}else if(x!=ce.charCodeAt(ee++))return-1}return ee}function B(J,le,ce){var ee=l.exec(le.slice(ce));return ee?(J.p=c.get(ee[0].toLowerCase()),ce+ee[0].length):-1}function N(J,le,ce){var ee=p.exec(le.slice(ce));return ee?(J.w=h.get(ee[0].toLowerCase()),ce+ee[0].length):-1}function O(J,le,ce){var ee=f.exec(le.slice(ce));return ee?(J.w=d.get(ee[0].toLowerCase()),ce+ee[0].length):-1}function q(J,le,ce){var ee=b.exec(le.slice(ce));return ee?(J.m=y.get(ee[0].toLowerCase()),ce+ee[0].length):-1}function W(J,le,ce){var ee=g.exec(le.slice(ce));return ee?(J.m=w.get(ee[0].toLowerCase()),ce+ee[0].length):-1}function L(J,le,ce){return M(J,t,le,ce)}function P(J,le,ce){return M(J,r,le,ce)}function X(J,le,ce){return M(J,n,le,ce)}function K(J){return a[J.getDay()]}function ae(J){return o[J.getDay()]}function V(J){return u[J.getMonth()]}function ie(J){return s[J.getMonth()]}function U(J){return i[+(J.getHours()>=12)]}function Y(J){return 1+~~(J.getMonth()/3)}function re(J){return a[J.getUTCDay()]}function F(J){return o[J.getUTCDay()]}function ue(J){return u[J.getUTCMonth()]}function Se(J){return s[J.getUTCMonth()]}function pe(J){return i[+(J.getUTCHours()>=12)]}function me(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var le=T(J+="",$);return le.toString=function(){return J},le},parse:function(J){var le=I(J+="",!1);return le.toString=function(){return J},le},utcFormat:function(J){var le=T(J+="",v);return le.toString=function(){return J},le},utcParse:function(J){var le=I(J+="",!0);return le.toString=function(){return J},le}}}var z4={"-":"",_:" ",0:"0"},jt=/^\s*\d+/,BL=/^%/,OL=/[\\^$*+?|[\]().{}]/g;function Xe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function NL(e){return e.replace(OL,"\\$&")}function Kl(e){return new RegExp("^(?:"+e.map(NL).join("|")+")","i")}function Xl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function RL(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function DL(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function PL(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function LL(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function UL(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function B4(e,t,r){var n=jt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function O4(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function FL(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function qL(e,t,r){var n=jt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function jL(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function N4(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function WL(e,t,r){var n=jt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function R4(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function VL(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function HL(e,t,r){var n=jt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function GL(e,t,r){var n=jt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function YL(e,t,r){var n=jt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function KL(e,t,r){var n=BL.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function XL(e,t,r){var n=jt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ZL(e,t,r){var n=jt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function D4(e,t){return Xe(e.getDate(),t,2)}function QL(e,t){return Xe(e.getHours(),t,2)}function JL(e,t){return Xe(e.getHours()%12||12,t,2)}function eU(e,t){return Xe(1+Wr.count(ir(e),e),t,3)}function q4(e,t){return Xe(e.getMilliseconds(),t,3)}function tU(e,t){return q4(e,t)+"000"}function rU(e,t){return Xe(e.getMonth()+1,t,2)}function nU(e,t){return Xe(e.getMinutes(),t,2)}function iU(e,t){return Xe(e.getSeconds(),t,2)}function oU(e){var t=e.getDay();return t===0?7:t}function aU(e,t){return Xe(Tr.count(ir(e)-1,e),t,2)}function j4(e){var t=e.getDay();return t>=4||t===0?ni(e):ni.ceil(e)}function sU(e,t){return e=j4(e),Xe(ni.count(ir(e),e)+(ir(e).getDay()===4),t,2)}function uU(e){return e.getDay()}function lU(e,t){return Xe(ho.count(ir(e)-1,e),t,2)}function cU(e,t){return Xe(e.getFullYear()%100,t,2)}function fU(e,t){return e=j4(e),Xe(e.getFullYear()%100,t,2)}function dU(e,t){return Xe(e.getFullYear()%1e4,t,4)}function pU(e,t){var r=e.getDay();return e=r>=4||r===0?ni(e):ni.ceil(e),Xe(e.getFullYear()%1e4,t,4)}function hU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xe(t/60|0,"0",2)+Xe(t%60,"0",2)}function P4(e,t){return Xe(e.getUTCDate(),t,2)}function mU(e,t){return Xe(e.getUTCHours(),t,2)}function gU(e,t){return Xe(e.getUTCHours()%12||12,t,2)}function yU(e,t){return Xe(1+ha.count(or(e),e),t,3)}function W4(e,t){return Xe(e.getUTCMilliseconds(),t,3)}function bU(e,t){return W4(e,t)+"000"}function wU(e,t){return Xe(e.getUTCMonth()+1,t,2)}function xU(e,t){return Xe(e.getUTCMinutes(),t,2)}function _U(e,t){return Xe(e.getUTCSeconds(),t,2)}function vU(e){var t=e.getUTCDay();return t===0?7:t}function $U(e,t){return Xe(Ir.count(or(e)-1,e),t,2)}function V4(e){var t=e.getUTCDay();return t>=4||t===0?ii(e):ii.ceil(e)}function SU(e,t){return e=V4(e),Xe(ii.count(or(e),e)+(or(e).getUTCDay()===4),t,2)}function kU(e){return e.getUTCDay()}function EU(e,t){return Xe(mo.count(or(e)-1,e),t,2)}function TU(e,t){return Xe(e.getUTCFullYear()%100,t,2)}function IU(e,t){return e=V4(e),Xe(e.getUTCFullYear()%100,t,2)}function AU(e,t){return Xe(e.getUTCFullYear()%1e4,t,4)}function CU(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ii(e):ii.ceil(e),Xe(e.getUTCFullYear()%1e4,t,4)}function MU(){return"+0000"}function L4(){return"%"}function U4(e){return+e}function F4(e){return Math.floor(+e/1e3)}var Ds,Ps,H4,oi,G4;my({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function my(e){return Ds=hy(e),Ps=Ds.format,H4=Ds.parse,oi=Ds.utcFormat,G4=Ds.utcParse,Ds}function zU(e){return new Date(e)}function BU(e){return e instanceof Date?+e:+new Date(+e)}function mp(e,t,r,n,i,o,a,s,u,l){var c=Dl(),f=c.invert,d=c.domain,p=l(".%L"),h=l(":%S"),g=l("%I:%M"),w=l("%I %p"),b=l("%a %d"),y=l("%b %d"),$=l("%B"),v=l("%Y");function k(T){return(u(T)<T?p:s(T)<T?h:a(T)<T?g:o(T)<T?w:n(T)<T?i(T)<T?b:y:r(T)<T?$:v)(T)}return c.invert=function(T){return new Date(f(T))},c.domain=function(T){return arguments.length?d(Array.from(T,BU)):d().map(zU)},c.ticks=function(T){var I=d();return e(I[0],I[I.length-1],T??10)},c.tickFormat=function(T,I){return I==null?k:l(I)},c.nice=function(T){var I=d();return(!T||typeof T.range!="function")&&(T=t(I[0],I[I.length-1],T??10)),T?d(Ll(I,T)):c},c.copy=function(){return ti(c,mp(e,t,r,n,i,o,a,s,u,l))},c}function gp(){return zt.apply(mp(cy,fy,ir,Ni,Tr,Wr,Bi,Mi,qt,Ps).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yp(){return zt.apply(mp(ly,Gl,or,Ri,Ir,ha,Oi,zi,qt,oi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bp(){var e=0,t=.5,r=1,n=1,i,o,a,s,u,l=_r,c,f=!1,d;function p(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-o)*(n*g<n*o?s:u),l(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=c(e=+e),o=c(t=+t),a=c(r=+r),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),n=o<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(l=g,p):l};function h(g){return function(w){var b,y,$;return arguments.length?([b,y,$]=w,l=Yn(g,[b,y,$]),p):[l(0),l(.5),l(1)]}}return p.range=h(hn),p.rangeRound=h(na),p.unknown=function(g){return arguments.length?(d=g,p):d},function(g){return c=g,i=g(e),o=g(t),a=g(r),s=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),n=o<i?-1:1,p}}function Ql(){var e=Ci(bp()(_r));return e.copy=function(){return Zl(e,Ql())},Nl.apply(e,arguments)}function wp(){var e=iy(bp()).domain([.1,1,10]);return e.copy=function(){return Zl(e,wp()).base(e.base())},Nl.apply(e,arguments)}function xp(){var e=oy(bp());return e.copy=function(){return Zl(e,xp()).constant(e.constant())},Nl.apply(e,arguments)}function _p(){var e=ay(bp());return e.copy=function(){return Zl(e,_p()).exponent(e.exponent())},Nl.apply(e,arguments)}function de(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var gy=de("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var yy=de("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var by=de("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var wy=de("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0");var xy=de("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var _y=de("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var vy=de("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var $y=de("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var Sy=de("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var ky=de("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Ey=de("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Te=e=>V1(e[e.length-1]);var vp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(de),$p=Te(vp);var Sp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(de),kp=Te(Sp);var Ep=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(de),Tp=Te(Ep);var Ip=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(de),Ap=Te(Ip);var Jl=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(de),Ls=Te(Jl);var Cp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(de),Mp=Te(Cp);var ec=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(de),Us=Te(ec);var zp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(de),Bp=Te(zp);var Op=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(de),Np=Te(Op);var Rp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(de),Dp=Te(Rp);var Pp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(de),Lp=Te(Pp);var Up=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(de),Fp=Te(Up);var qp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(de),jp=Te(qp);var Wp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(de),Vp=Te(Wp);var Hp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(de),Gp=Te(Hp);var Yp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(de),Kp=Te(Yp);var Xp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(de),Zp=Te(Xp);var Qp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(de),Jp=Te(Qp);var eh=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(de),th=Te(eh);var rh=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(de),nh=Te(rh);var ih=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(de),oh=Te(ih);var ah=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(de),sh=Te(ah);var uh=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(de),lh=Te(uh);var ch=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(de),fh=Te(ch);var dh=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(de),ph=Te(dh);var hh=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(de),mh=Te(hh);var gh=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(de),yh=Te(gh);function bh(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var wh=ws(pr(300,.5,0),pr(-240,.5,1));var _h=ws(pr(-100,.75,.35),pr(80,1.5,.8)),vh=ws(pr(260,.75,.35),pr(80,1.5,.8)),xh=pr();function $h(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return xh.h=360*e-100,xh.s=1.5-1.5*t,xh.l=.8-.9*t,xh+""}var Sh=Ur(),OU=Math.PI/3,NU=Math.PI*2/3;function kh(e){var t;return e=(.5-e)*Math.PI,Sh.r=255*(t=Math.sin(e))*t,Sh.g=255*(t=Math.sin(e+OU))*t,Sh.b=255*(t=Math.sin(e+NU))*t,Sh+""}function Eh(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Th(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var Ih=Th(de("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ah=Th(de("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ch=Th(de("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Mh=Th(de("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Bt(e){return function(){return e}}var Ty=Math.cos;var Fs=Math.min,tc=Math.sin,Ze=Math.sqrt,Iy=1e-12,ba=Math.PI,j0e=ba/2,qs=2*ba;function zh(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lo(t)}var G0e=Array.prototype.slice;function Bh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y4(e){this._context=e}Y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function go(e){return new Y4(e)}function Oh(e){return e[0]}function Nh(e){return e[1]}function K4(e,t){var r=Bt(!0),n=null,i=go,o=null,a=zh(s);e=typeof e=="function"?e:e===void 0?Oh:Bt(e),t=typeof t=="function"?t:t===void 0?Nh:Bt(t);function s(u){var l,c=(u=Bh(u)).length,f,d=!1,p;for(n==null&&(o=i(p=a())),l=0;l<=c;++l)!(l<c&&r(f=u[l],l,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,l,u),+t(f,l,u));if(p)return o=null,p+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:Bt(+u),s):e},s.y=function(u){return arguments.length?(t=typeof u=="function"?u:Bt(+u),s):t},s.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Bt(!!u),s):r},s.curve=function(u){return arguments.length?(i=u,n!=null&&(o=i(n)),s):i},s.context=function(u){return arguments.length?(u==null?n=o=null:o=i(n=u),s):n},s}function Ay(e,t,r){var n=null,i=Bt(!0),o=null,a=go,s=null,u=zh(l);e=typeof e=="function"?e:e===void 0?Oh:Bt(+e),t=typeof t=="function"?t:t===void 0?Bt(0):Bt(+t),r=typeof r=="function"?r:r===void 0?Nh:Bt(+r);function l(f){var d,p,h,g=(f=Bh(f)).length,w,b=!1,y,$=new Array(g),v=new Array(g);for(o==null&&(s=a(y=u())),d=0;d<=g;++d){if(!(d<g&&i(w=f[d],d,f))===b)if(b=!b)p=d,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=d-1;h>=p;--h)s.point($[h],v[h]);s.lineEnd(),s.areaEnd()}b&&($[d]=+e(w,d,f),v[d]=+t(w,d,f),s.point(n?+n(w,d,f):$[d],r?+r(w,d,f):v[d]))}if(y)return s=null,y+""||null}function c(){return K4().defined(i).curve(a).context(o)}return l.x=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),n=null,l):e},l.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),l):e},l.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Bt(+f),l):n},l.y=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),r=null,l):t},l.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),l):t},l.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Bt(+f),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(n).y(t)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Bt(!!f),l):i},l.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),l):a},l.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),l):o},l}var Rh=class{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}};function Cy(e){return new Rh(e,!0)}function My(e){return new Rh(e,!1)}var RU=Ze(3),rc={draw(e,t){let r=Ze(t+Fs(t/28,.75))*.59436,n=r/2,i=n*RU;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-i,-n),e.lineTo(i,n),e.moveTo(-i,n),e.lineTo(i,-n)}};var Di={draw(e,t){let r=Ze(t/ba);e.moveTo(r,0),e.arc(0,0,r,0,qs)}};var nc={draw(e,t){let r=Ze(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}};var X4=Ze(1/3),DU=X4*2,ic={draw(e,t){let r=Ze(t/DU),n=r*X4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}};var oc={draw(e,t){let r=Ze(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}};var ac={draw(e,t){let r=Ze(t-Fs(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}};var sc={draw(e,t){let r=Ze(t),n=-r/2;e.rect(n,n,r,r)}};var uc={draw(e,t){let r=Ze(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}};var PU=.8908130915292852,Z4=tc(ba/10)/tc(7*ba/10),LU=tc(qs/10)*Z4,UU=-Ty(qs/10)*Z4,lc={draw(e,t){let r=Ze(t*PU),n=LU*r,i=UU*r;e.moveTo(0,-r),e.lineTo(n,i);for(let o=1;o<5;++o){let a=qs*o/5,s=Ty(a),u=tc(a);e.lineTo(u*r,-s*r),e.lineTo(s*n-u*i,u*n+s*i)}e.closePath()}};var zy=Ze(3),cc={draw(e,t){let r=-Ze(t/(zy*3));e.moveTo(0,r*2),e.lineTo(-zy*r,-r),e.lineTo(zy*r,-r),e.closePath()}};var FU=Ze(3),fc={draw(e,t){let r=Ze(t)*.6824,n=r/2,i=r*FU/2;e.moveTo(0,-r),e.lineTo(i,n),e.lineTo(-i,n),e.closePath()}};var Vr=-.5,Hr=Ze(3)/2,By=1/Ze(12),qU=(By/2+1)*3,dc={draw(e,t){let r=Ze(t/qU),n=r/2,i=r*By,o=n,a=r*By+r,s=-o,u=a;e.moveTo(n,i),e.lineTo(o,a),e.lineTo(s,u),e.lineTo(Vr*n-Hr*i,Hr*n+Vr*i),e.lineTo(Vr*o-Hr*a,Hr*o+Vr*a),e.lineTo(Vr*s-Hr*u,Hr*s+Vr*u),e.lineTo(Vr*n+Hr*i,Vr*i-Hr*n),e.lineTo(Vr*o+Hr*a,Vr*a-Hr*o),e.lineTo(Vr*s+Hr*u,Vr*u-Hr*s),e.closePath()}};var js={draw(e,t){let r=Ze(t-Fs(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}};var Dh=[Di,nc,ic,sc,lc,cc,dc],Oy=[Di,ac,js,fc,rc,uc,oc];function Gr(){}function Ws(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function pc(e){this._context=e}pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ws(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ws(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ny(e){return new pc(e)}function Q4(e){this._context=e}Q4.prototype={areaStart:Gr,areaEnd:Gr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ws(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ry(e){return new Q4(e)}function J4(e){this._context=e}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ws(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dy(e){return new J4(e)}function e5(e,t){this._basis=new pc(e),this._beta=t}e5.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],o=e[r]-n,a=t[r]-i,s=-1,u;++s<=r;)u=s/r,this._basis.point(this._beta*e[s]+(1-this._beta)*(n+u*o),this._beta*t[s]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Py=function e(t){function r(n){return t===1?new pc(n):new e5(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Vs(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Ph(e,t){this._context=e,this._k=(1-t)/6}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Vs(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Vs(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ly=function e(t){function r(n){return new Ph(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Lh(e,t){this._context=e,this._k=(1-t)/6}Lh.prototype={areaStart:Gr,areaEnd:Gr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Vs(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Uy=function e(t){function r(n){return new Lh(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Uh(e,t){this._context=e,this._k=(1-t)/6}Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vs(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Fy=function e(t){function r(n){return new Uh(n,t)}return r.tension=function(n){return e(+n)},r}(0);function hc(e,t,r){var n=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Iy){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Iy){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-r*e._l12_2a)/c}e._context.bezierCurveTo(n,i,o,a,e._x2,e._y2)}function t5(e,t){this._context=e,this._alpha=t}t5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:hc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var qy=function e(t){function r(n){return t?new t5(n,t):new Ph(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function r5(e,t){this._context=e,this._alpha=t}r5.prototype={areaStart:Gr,areaEnd:Gr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:hc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var jy=function e(t){function r(n){return t?new r5(n,t):new Lh(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function n5(e,t){this._context=e,this._alpha=t}n5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:hc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Wy=function e(t){function r(n){return t?new n5(n,t):new Uh(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function i5(e){this._context=e}i5.prototype={areaStart:Gr,areaEnd:Gr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Vy(e){return new i5(e)}function o5(e){return e<0?-1:1}function a5(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),s=(o*i+a*n)/(n+i);return(o5(o)+o5(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function s5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Hy(e,t,r){var n=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-n)/3;e._context.bezierCurveTo(n+s,i+s*t,o-s,a-s*r,o,a)}function Fh(e){this._context=e}Fh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hy(this,this._t0,s5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hy(this,s5(this,r=a5(this,e,t)),r);break;default:Hy(this,this._t0,r=a5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function u5(e){this._context=new l5(e)}(u5.prototype=Object.create(Fh.prototype)).point=function(e,t){Fh.prototype.point.call(this,t,e)};function l5(e){this._context=e}l5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function Gy(e){return new Fh(e)}function Yy(e){return new u5(e)}function f5(e){this._context=e}f5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=c5(e),i=c5(t),o=0,a=1;a<r;++o,++a)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function c5(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Ky(e){return new f5(e)}function qh(e,t){this._context=e,this._t=t}qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Xy(e){return new qh(e,.5)}function Zy(e){return new qh(e,0)}function Qy(e){return new qh(e,1)}function yo(e,t,r){this.k=e,this.x=t,this.y=r}yo.prototype={constructor:yo,scale:function(e){return e===1?this:new yo(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new yo(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jy=new yo(1,0,0);eb.prototype=yo.prototype;function eb(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Jy;return e.__zoom}function Yr(e){return e!=null&&!Number.isNaN(e)}function ar(e,t){return+Yr(t)-+Yr(e)||bt(e,t)}function wa(e,t){return+Yr(t)-+Yr(e)||Dr(e,t)}function mc(e){return e!=null&&`${e}`!=""}function tb(e){return isFinite(e)?e:NaN}function xa(e){return e>0&&isFinite(e)?e:NaN}function Hs(e){return e<0&&isFinite(e)?e:NaN}function jh(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;let r=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${jU(e.getUTCFullYear(),4)}-${Pi(e.getUTCMonth()+1,2)}-${Pi(e.getUTCDate(),2)}${r||n||i||o?`T${Pi(r,2)}:${Pi(n,2)}${i||o?`:${Pi(i,2)}${o?`.${Pi(o,3)}`:""}`:""}Z`:""}`}function jU(e){return e<0?`-${Pi(-e,6)}`:e>9999?`+${Pi(e,6)}`:Pi(e,4)}function Pi(e,t){return`${e}`.padStart(t,"0")}var WU=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function gc(e,t){return WU.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function Li(e){if(e==null)return;let t=e[0],r=e[e.length-1];return Dr(t,r)}var Ys=1e3,wo=Ys*60,xo=wo*60,si=xo*24,ai=si*7,_a=si*30,bo=si*365,rb=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Ys],["5 seconds",5*Ys],["15 seconds",15*Ys],["30 seconds",30*Ys],["minute",wo],["5 minutes",5*wo],["15 minutes",15*wo],["30 minutes",30*wo],["hour",xo],["3 hours",3*xo],["6 hours",6*xo],["12 hours",12*xo],["day",si],["2 days",2*si],["week",ai],["2 weeks",2*ai],["month",_a],["3 months",3*_a],["6 months",6*_a],["year",bo],["2 years",2*bo],["5 years",5*bo],["10 years",10*bo],["20 years",20*bo],["50 years",50*bo],["100 years",100*bo]],nb=new Map([["second",Ys],["minute",wo],["hour",xo],["day",si],["monday",ai],["tuesday",ai],["wednesday",ai],["thursday",ai],["friday",ai],["saturday",ai],["sunday",ai],["week",ai],["month",_a],["year",bo]]),p5=new Map([["second",qt],["minute",Mi],["hour",Bi],["day",Wr],["monday",ho],["tuesday",sp],["wednesday",up],["thursday",ni],["friday",lp],["saturday",cp],["sunday",Tr],["week",Tr],["month",Ni],["year",ir]]),ib=new Map([["second",qt],["minute",zi],["hour",Oi],["day",ma],["monday",mo],["tuesday",fp],["wednesday",dp],["thursday",ii],["friday",pp],["saturday",hp],["sunday",Ir],["week",Ir],["month",Ri],["year",or]]),Ks=Symbol("intervalDuration"),Vh=Symbol("intervalType");for(let[e,t]of p5)t[Ks]=nb.get(e),t[Vh]="time";for(let[e,t]of ib)t[Ks]=nb.get(e),t[Vh]="utc";var yc=[["year",or,"utc"],["month",Ri,"utc"],["day",ma,"utc",6*_a],["hour",Oi,"utc",3*si],["minute",zi,"utc",6*xo],["second",qt,"utc",30*wo]],Wh=[["year",ir,"time"],["month",Ni,"time"],["day",Wr,"time",6*_a],["hour",Bi,"time",3*si],["minute",Mi,"time",6*xo],["second",qt,"time",30*wo]],VU=[yc[0],Wh[0],yc[1],Wh[1],yc[2],Wh[2],...yc.slice(3)];function h5(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let r=1,n=/^(?:(\d+)\s+)/.exec(t);switch(n&&(t=t.slice(n[0].length),r=+n[1]),t){case"quarter":t="month",r*=3;break;case"half":t="month",r*=6;break}let i=ib.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(r>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,r]}function ob(e){return m5(h5(e),"time")}function bc(e){return m5(h5(e),"utc")}function m5([e,t],r){let n=(r==="time"?p5:ib).get(e);return t>1&&(n=n.every(t),n[Ks]=nb.get(e)*t,n[Vh]=r),n}function ab(e,t){if(!(t>1))return;let r=e[Ks];if(!rb.some(([,i])=>i===r)||r%si===0&&si<r&&r<_a)return;let[n]=rb[_i(([,i])=>Math.log(i)).center(rb,Math.log(r*t))];return(e[Vh]==="time"?ob:bc)(n)}function d5(e,t,r){let n=t==="time"?Ps:oi;if(r==null)return n(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");let i=HU(r);switch(e){case"millisecond":return Gs(n(".%L"),n(":%M:%S"),i);case"second":return Gs(n(":%S"),n("%-I:%M"),i);case"minute":return Gs(n("%-I:%M"),n("%p"),i);case"hour":return Gs(n("%-I %p"),n("%b %-d"),i);case"day":return Gs(n("%-d"),n("%b"),i);case"month":return Gs(n("%b"),n("%Y"),i);case"year":return n("%Y")}throw new Error("unable to format time ticks")}function HU(e){return e==="left"||e==="right"?(t,r)=>`
